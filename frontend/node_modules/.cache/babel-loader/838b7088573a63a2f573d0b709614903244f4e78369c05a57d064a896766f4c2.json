{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Tejas Jaiswal\\\\Desktop\\\\OM\\\\property-dealing-website\\\\frontend\\\\src\\\\components\\\\Societies.jsx\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$(),\n  _s3 = $RefreshSig$();\n// frontend/src/components/Societies.jsx - Fixed modal navbar hiding and mobile visibility\nimport React, { useState, useEffect } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport PageTransition from './PageTransition';\nimport './Societies.css';\n\n// Enhanced Society Modal Component with Navbar Hiding and Mobile Fixes\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst SocietyModal = ({\n  isOpen,\n  onClose,\n  society,\n  cardPosition\n}) => {\n  _s();\n  const wasModalOpen = React.useRef(false);\n  const [currentImageIndex, setCurrentImageIndex] = useState(0);\n  React.useEffect(() => {\n    const handleEscape = e => {\n      if (e.key === 'Escape') {\n        onClose();\n      }\n    };\n    if (isOpen) {\n      console.log('📂 Society modal opening - hiding navbar and preventing scroll');\n      wasModalOpen.current = true;\n      setCurrentImageIndex(0); // Reset to first image\n\n      document.addEventListener('keydown', handleEscape);\n      document.body.style.overflow = 'hidden';\n      document.body.classList.add('modal-open');\n\n      // 🆕 HIDE ALL NAVIGATION ELEMENTS\n      // Hide desktop navbar\n      const navbar = document.querySelector('.nav-container');\n      if (navbar) {\n        navbar.style.display = 'none';\n        console.log('✅ Desktop navbar hidden');\n      }\n\n      // Hide mobile header\n      const mobileHeader = document.querySelector('.mobile-header');\n      if (mobileHeader) {\n        mobileHeader.style.display = 'none';\n        console.log('✅ Mobile header hidden');\n      }\n\n      // Hide mobile sidebar\n      const mobileSidebar = document.querySelector('.mobile-sidebar');\n      if (mobileSidebar) {\n        mobileSidebar.style.display = 'none';\n        console.log('✅ Mobile sidebar hidden');\n      }\n    } else if (wasModalOpen.current) {\n      console.log('📂 Society modal closing - restoring navbar and scroll');\n      document.body.style.overflow = 'unset';\n      document.body.classList.remove('modal-open');\n\n      // 🆕 RESTORE ALL NAVIGATION ELEMENTS\n      // Show desktop navbar\n      const navbar = document.querySelector('.nav-container');\n      if (navbar) {\n        navbar.style.display = 'block';\n        console.log('✅ Desktop navbar restored');\n      }\n\n      // Show mobile header\n      const mobileHeader = document.querySelector('.mobile-header');\n      if (mobileHeader) {\n        mobileHeader.style.display = 'flex';\n        console.log('✅ Mobile header restored');\n      }\n\n      // Show mobile sidebar\n      const mobileSidebar = document.querySelector('.mobile-sidebar');\n      if (mobileSidebar) {\n        mobileSidebar.style.display = '';\n        console.log('✅ Mobile sidebar restored');\n      }\n\n      // Scroll back to the card position after a small delay\n      if (cardPosition && cardPosition.y !== undefined) {\n        setTimeout(() => {\n          console.log('🎯 Scrolling back to card position:', cardPosition.y);\n          window.scrollTo({\n            top: cardPosition.y,\n            left: 0,\n            behavior: 'smooth'\n          });\n        }, 100);\n      }\n      wasModalOpen.current = false;\n    }\n    return () => {\n      document.removeEventListener('keydown', handleEscape);\n      document.body.style.overflow = 'unset';\n      document.body.classList.remove('modal-open');\n\n      // Ensure navbar is always restored on cleanup\n      const navbar = document.querySelector('.nav-container');\n      if (navbar) navbar.style.display = 'block';\n      const mobileHeader = document.querySelector('.mobile-header');\n      if (mobileHeader) mobileHeader.style.display = 'flex';\n      const mobileSidebar = document.querySelector('.mobile-sidebar');\n      if (mobileSidebar) mobileSidebar.style.display = '';\n    };\n  }, [isOpen, onClose, cardPosition]);\n  if (!isOpen || !society) return null;\n  const handleBackdropClick = e => {\n    if (e.target === e.currentTarget) {\n      onClose();\n    }\n  };\n\n  // Get all available images (gallery + map)\n  const getAllImages = () => {\n    const images = [];\n    if (society.images && society.images.length > 0) {\n      society.images.forEach(img => {\n        images.push(`http://localhost:5000${img}`);\n      });\n    }\n    if (society.mapImage) {\n      images.push(`http://localhost:5000${society.mapImage}`);\n    }\n    if (images.length === 0) {\n      images.push('/assets/map.webp');\n    }\n    return images;\n  };\n  const allImages = getAllImages();\n  const nextImage = () => {\n    setCurrentImageIndex(prev => (prev + 1) % allImages.length);\n  };\n  const prevImage = () => {\n    setCurrentImageIndex(prev => (prev - 1 + allImages.length) % allImages.length);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"modal-overlay society-modal-overlay\",\n    onClick: handleBackdropClick,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal-content society-modal\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"modal-close\",\n        onClick: onClose,\n        children: /*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fas fa-times\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-left\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-gallery\",\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: allImages[currentImageIndex],\n            alt: `${society.name} - Image ${currentImageIndex + 1}`,\n            style: {\n              width: '100%',\n              height: '100%',\n              objectFit: 'cover'\n            },\n            onError: e => {\n              e.target.src = '/assets/map.webp';\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 154,\n            columnNumber: 13\n          }, this), allImages.length > 1 && /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"gallery-nav gallery-prev\",\n              onClick: prevImage,\n              children: /*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"fas fa-chevron-left\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 171,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 170,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"gallery-nav gallery-next\",\n              onClick: nextImage,\n              children: /*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"fas fa-chevron-right\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 174,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 173,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"gallery-counter\",\n              children: [currentImageIndex + 1, \" / \", allImages.length]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 176,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-right\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: society.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 185,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"modal-description\",\n          children: society.description\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 186,\n          columnNumber: 11\n        }, this), society.images && society.images.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-gallery-info\",\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            children: \"Photo Gallery\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 191,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [society.images.length, \" images available\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 192,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 190,\n          columnNumber: 13\n        }, this), society.amenities && society.amenities.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-amenities\",\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            children: \"Amenities\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 199,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"amenities-grid\",\n            children: society.amenities.map((amenity, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"amenity-item\",\n              children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"fas fa-check\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 203,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: amenity\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 204,\n                columnNumber: 21\n              }, this)]\n            }, index, true, {\n              fileName: _jsxFileName,\n              lineNumber: 202,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 200,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 198,\n          columnNumber: 13\n        }, this), society.contact && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-contact\",\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            children: \"Contact Information\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 214,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"contact-info\",\n            children: [society.contact.phone && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"contact-item\",\n              children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"fas fa-phone\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 218,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: society.contact.phone\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 219,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 217,\n              columnNumber: 19\n            }, this), society.contact.email && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"contact-item\",\n              children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"fas fa-envelope\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 224,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: society.contact.email\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 225,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 223,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 215,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 213,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-button\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-secondary modal-map-btn\",\n            onClick: () => {\n              const mapUrl = allImages[currentImageIndex];\n              window.open(mapUrl, '_blank');\n            },\n            children: \"Open Image in New Tab\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 233,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-primary\",\n            onClick: () => {\n              window.location.href = '/contact';\n            },\n            children: \"Contact Us\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 242,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 232,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 146,\n    columnNumber: 5\n  }, this);\n};\n\n// Enhanced Image Slider Component for Societies\n_s(SocietyModal, \"jweic8lVCdh2aJQgB5PVMcpyIDc=\");\n_c = SocietyModal;\nconst SocietiesImageSlider = ({\n  societies = []\n}) => {\n  _s2();\n  const [currentSlide, setCurrentSlide] = useState(0);\n  const [isPlaying, setIsPlaying] = useState(true);\n\n  // Create slides array from all society images\n  const slides = [];\n  societies.forEach(society => {\n    if (society.images && society.images.length > 0) {\n      society.images.forEach(image => {\n        slides.push({\n          image: `http://localhost:5000${image}`,\n          societyName: society.name,\n          societyId: society.id\n        });\n      });\n    } else if (society.mapImage) {\n      // Fallback to map image if no gallery images\n      slides.push({\n        image: `http://localhost:5000${society.mapImage}`,\n        societyName: society.name,\n        societyId: society.id\n      });\n    }\n  });\n\n  // Auto-slide functionality\n  useEffect(() => {\n    if (!isPlaying || slides.length <= 1) return;\n    const interval = setInterval(() => {\n      setCurrentSlide(prev => (prev + 1) % slides.length);\n    }, 4000); // Change slide every 4 seconds\n\n    return () => clearInterval(interval);\n  }, [isPlaying, slides.length]);\n  const nextSlide = () => {\n    setCurrentSlide(prev => (prev + 1) % slides.length);\n  };\n  const prevSlide = () => {\n    setCurrentSlide(prev => (prev - 1 + slides.length) % slides.length);\n  };\n  const goToSlide = index => {\n    setCurrentSlide(index);\n  };\n  if (slides.length === 0) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"societies-slider no-images\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"no-images-content\",\n        children: [/*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fas fa-images\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 310,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"No Society Images Available\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 311,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Images will appear here once societies are added with gallery photos.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 312,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 309,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 308,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"societies-slider\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"slider-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"slider-main\",\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: slides[currentSlide].image,\n          alt: slides[currentSlide].societyName,\n          className: \"slider-image\",\n          onError: e => {\n            e.target.src = '/assets/map.webp';\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 323,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"slider-overlay\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"slider-content\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"society-name\",\n              children: slides[currentSlide].societyName\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 335,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"slide-counter\",\n              children: [currentSlide + 1, \" / \", slides.length]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 336,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 334,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 333,\n          columnNumber: 11\n        }, this), slides.length > 1 && /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"slider-nav prev\",\n            onClick: prevSlide,\n            \"aria-label\": \"Previous image\",\n            children: /*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"fas fa-chevron-left\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 350,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 345,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"slider-nav next\",\n            onClick: nextSlide,\n            \"aria-label\": \"Next image\",\n            children: /*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"fas fa-chevron-right\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 357,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 352,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true), slides.length > 1 && /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"slider-play-pause\",\n          onClick: () => setIsPlaying(!isPlaying),\n          \"aria-label\": isPlaying ? 'Pause slideshow' : 'Play slideshow',\n          children: /*#__PURE__*/_jsxDEV(\"i\", {\n            className: `fas fa-${isPlaying ? 'pause' : 'play'}`\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 369,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 364,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 322,\n        columnNumber: 9\n      }, this), slides.length > 1 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"slider-thumbnails\",\n        children: slides.map((slide, index) => /*#__PURE__*/_jsxDEV(\"button\", {\n          className: `thumbnail ${index === currentSlide ? 'active' : ''}`,\n          onClick: () => goToSlide(index),\n          style: {\n            backgroundImage: `url(${slide.image})`,\n            backgroundSize: 'cover',\n            backgroundPosition: 'center'\n          },\n          \"aria-label\": `Go to ${slide.societyName} image`,\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"thumbnail-label\",\n            children: slide.societyName\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 389,\n            columnNumber: 17\n          }, this)\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 378,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 376,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 320,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 319,\n    columnNumber: 5\n  }, this);\n};\n_s2(SocietiesImageSlider, \"1Kx3cfdvMnC0mCeLJm+LW/p9PPU=\");\n_c2 = SocietiesImageSlider;\nconst Societies = () => {\n  _s3();\n  const {\n    areaKey,\n    subAreaId\n  } = useParams();\n  const navigate = useNavigate();\n  const [societies, setSocieties] = useState([]);\n  const [areaInfo, setAreaInfo] = useState({});\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [selectedSociety, setSelectedSociety] = useState(null);\n  const [isModalOpen, setIsModalOpen] = useState(false);\n  const [cardPosition, setCardPosition] = useState(null);\n  useEffect(() => {\n    loadSocieties();\n  }, [areaKey, subAreaId]);\n  const loadSocieties = async () => {\n    try {\n      setLoading(true);\n      setError(null);\n      console.log(`🏘️ Loading societies for area: ${areaKey}, sub-area: ${subAreaId}`);\n      const response = await fetch(`http://localhost:5000/api/societies/${areaKey}/${subAreaId}`);\n      if (!response.ok) {\n        throw new Error(`HTTP error! status: ${response.status}`);\n      }\n      const data = await response.json();\n      if (data.success) {\n        setSocieties(data.data.societies || []);\n        setAreaInfo({\n          areaName: data.data.areaName,\n          subAreaName: data.data.subAreaName,\n          subAreaDescription: data.data.subAreaDescription\n        });\n        console.log('✅ Societies loaded successfully:', data.data.societies.length);\n      } else {\n        throw new Error(data.message || 'Failed to load societies');\n      }\n    } catch (error) {\n      console.error('❌ Error loading societies:', error);\n      setError(error.message);\n      // Load fallback data with sample images\n      loadFallbackData();\n    } finally {\n      setLoading(false);\n    }\n  };\n  const loadFallbackData = () => {\n    // Enhanced fallback society data with sample images\n    const fallbackSocieties = [{\n      id: 1,\n      name: 'Green Valley Apartments',\n      description: 'Premium residential complex with modern amenities and excellent connectivity.',\n      mapImage: null,\n      images: ['https://images.unsplash.com/photo-1545324418-cc1a3fa10c00?w=800', 'https://images.unsplash.com/photo-1512917774080-9991f1c4c750?w=800'],\n      amenities: ['Swimming Pool', 'Gym', 'Parking', 'Security', '24/7 Power Backup'],\n      contact: {\n        phone: '+91-9811186086',\n        email: 'info@greenvalley.com'\n      }\n    }, {\n      id: 2,\n      name: 'Royal Heights Society',\n      description: 'Luxury housing society offering world-class facilities and premium lifestyle.',\n      mapImage: null,\n      images: ['https://images.unsplash.com/photo-1564013799919-ab600027ffc6?w=800', 'https://images.unsplash.com/photo-1480074568708-e7b720bb3f09?w=800'],\n      amenities: ['Club House', 'Tennis Court', 'Children Play Area', 'Garden', 'CCTV'],\n      contact: {\n        phone: '+91-9811186083',\n        email: 'contact@royalheights.com'\n      }\n    }];\n    setSocieties(fallbackSocieties);\n    setAreaInfo({\n      areaName: 'Sample Area',\n      subAreaName: 'Sample Sub-Area',\n      subAreaDescription: 'This is sample data as the backend connection failed.'\n    });\n    console.log('⚠️ Using fallback society data with sample images');\n  };\n  const handleSocietyClick = (society, event) => {\n    console.log('🏘️ Society card clicked:', society.name);\n\n    // Get the clicked card element position\n    const cardElement = event.currentTarget;\n    const rect = cardElement.getBoundingClientRect();\n    const scrollTop = window.pageYOffset || document.documentElement.scrollTop;\n    const cardAbsolutePosition = {\n      y: rect.top + scrollTop - 100,\n      x: rect.left,\n      element: cardElement\n    };\n    setCardPosition(cardAbsolutePosition);\n    setSelectedSociety(society);\n    setIsModalOpen(true);\n  };\n  const handleCloseModal = () => {\n    setIsModalOpen(false);\n    setTimeout(() => {\n      setSelectedSociety(null);\n      setTimeout(() => {\n        setCardPosition(null);\n      }, 1000);\n    }, 300);\n  };\n  const getSocietyImage = society => {\n    // Priority: 1. First gallery image, 2. Map image, 3. Default\n    if (society.images && society.images.length > 0) {\n      return `http://localhost:5000${society.images[0]}`;\n    } else if (society.mapImage) {\n      return `http://localhost:5000${society.mapImage}`;\n    }\n    return '/assets/map.webp';\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(PageTransition, {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"societies-page\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"container\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"section-title\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              children: \"Loading Societies...\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 539,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"loading-spinner\",\n              style: {\n                margin: '50px auto'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 540,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 538,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 537,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 536,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 535,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(PageTransition, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"societies-page\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"back-navigation\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"back-btn\",\n            onClick: () => navigate(-1),\n            children: [/*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"fas fa-arrow-left\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 558,\n              columnNumber: 15\n            }, this), \"Back\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 554,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 553,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"section-title\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: [areaInfo.subAreaName, \" Societies\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 565,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: areaInfo.subAreaDescription\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 566,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"breadcrumb\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: areaInfo.areaName\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 568,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"fas fa-chevron-right\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 569,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: areaInfo.subAreaName\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 570,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 567,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 564,\n          columnNumber: 11\n        }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"alert alert-error\",\n          children: error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 575,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(SocietiesImageSlider, {\n          societies: societies\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 581,\n          columnNumber: 11\n        }, this), societies.length > 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"societies-grid\",\n          children: societies.map((society, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"society-card\",\n            onClick: event => handleSocietyClick(society, event),\n            style: {\n              animationDelay: `${index * 0.1}s`\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"society-image\",\n              children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                src: getSocietyImage(society),\n                alt: `${society.name} Image`,\n                onError: e => {\n                  e.target.src = '/assets/map.webp';\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 596,\n                columnNumber: 21\n              }, this), society.images && society.images.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"image-count-badge\",\n                children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"fas fa-images\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 606,\n                  columnNumber: 25\n                }, this), society.images.length]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 605,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 595,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"society-content\",\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                children: society.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 613,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"society-description\",\n                children: society.description\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 614,\n                columnNumber: 21\n              }, this), society.amenities && society.amenities.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"amenities-preview\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"amenities-list\",\n                  children: [society.amenities.slice(0, 3).map((amenity, idx) => /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"amenity-tag\",\n                    children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                      className: \"fas fa-check\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 622,\n                      columnNumber: 31\n                    }, this), amenity]\n                  }, idx, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 621,\n                    columnNumber: 29\n                  }, this)), society.amenities.length > 3 && /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"amenity-tag more\",\n                    children: [\"+\", society.amenities.length - 3, \" more\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 627,\n                    columnNumber: 29\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 619,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 618,\n                columnNumber: 23\n              }, this), society.contact && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"contact-preview\",\n                children: society.contact.phone && /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"contact-item\",\n                  children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                    className: \"fas fa-phone\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 640,\n                    columnNumber: 29\n                  }, this), society.contact.phone]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 639,\n                  columnNumber: 27\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 637,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 612,\n              columnNumber: 19\n            }, this)]\n          }, society.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 587,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 585,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"no-societies\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"no-societies-content\",\n            children: [/*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"fas fa-building\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 653,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n              children: \"No Societies Available\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 654,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"We're currently updating our listings for this area. Please check back soon or contact us for the latest available societies.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 655,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn btn-primary\",\n              onClick: () => navigate('/contact'),\n              children: \"Contact Us\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 659,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 652,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 651,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 551,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(SocietyModal, {\n        isOpen: isModalOpen,\n        onClose: handleCloseModal,\n        society: selectedSociety,\n        cardPosition: cardPosition\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 671,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 550,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 549,\n    columnNumber: 5\n  }, this);\n};\n_s3(Societies, \"NbhlQPb2VU1tPXy9tMZqwyTlz7w=\", false, function () {\n  return [useParams, useNavigate];\n});\n_c3 = Societies;\nexport default Societies;\nvar _c, _c2, _c3;\n$RefreshReg$(_c, \"SocietyModal\");\n$RefreshReg$(_c2, \"SocietiesImageSlider\");\n$RefreshReg$(_c3, \"Societies\");","map":{"version":3,"names":["React","useState","useEffect","useParams","useNavigate","PageTransition","jsxDEV","_jsxDEV","Fragment","_Fragment","SocietyModal","isOpen","onClose","society","cardPosition","_s","wasModalOpen","useRef","currentImageIndex","setCurrentImageIndex","handleEscape","e","key","console","log","current","document","addEventListener","body","style","overflow","classList","add","navbar","querySelector","display","mobileHeader","mobileSidebar","remove","y","undefined","setTimeout","window","scrollTo","top","left","behavior","removeEventListener","handleBackdropClick","target","currentTarget","getAllImages","images","length","forEach","img","push","mapImage","allImages","nextImage","prev","prevImage","className","onClick","children","fileName","_jsxFileName","lineNumber","columnNumber","src","alt","name","width","height","objectFit","onError","description","amenities","map","amenity","index","contact","phone","email","mapUrl","open","location","href","_c","SocietiesImageSlider","societies","_s2","currentSlide","setCurrentSlide","isPlaying","setIsPlaying","slides","image","societyName","societyId","id","interval","setInterval","clearInterval","nextSlide","prevSlide","goToSlide","slide","backgroundImage","backgroundSize","backgroundPosition","_c2","Societies","_s3","areaKey","subAreaId","navigate","setSocieties","areaInfo","setAreaInfo","loading","setLoading","error","setError","selectedSociety","setSelectedSociety","isModalOpen","setIsModalOpen","setCardPosition","loadSocieties","response","fetch","ok","Error","status","data","json","success","areaName","subAreaName","subAreaDescription","message","loadFallbackData","fallbackSocieties","handleSocietyClick","event","cardElement","rect","getBoundingClientRect","scrollTop","pageYOffset","documentElement","cardAbsolutePosition","x","element","handleCloseModal","getSocietyImage","margin","animationDelay","slice","idx","_c3","$RefreshReg$"],"sources":["C:/Users/Tejas Jaiswal/Desktop/OM/property-dealing-website/frontend/src/components/Societies.jsx"],"sourcesContent":["// frontend/src/components/Societies.jsx - Fixed modal navbar hiding and mobile visibility\r\nimport React, { useState, useEffect } from 'react';\r\nimport { useParams, useNavigate } from 'react-router-dom';\r\nimport PageTransition from './PageTransition';\r\nimport './Societies.css';\r\n\r\n// Enhanced Society Modal Component with Navbar Hiding and Mobile Fixes\r\nconst SocietyModal = ({ isOpen, onClose, society, cardPosition }) => {\r\n  const wasModalOpen = React.useRef(false);\r\n  const [currentImageIndex, setCurrentImageIndex] = useState(0);\r\n\r\n  React.useEffect(() => {\r\n    const handleEscape = (e) => {\r\n      if (e.key === 'Escape') {\r\n        onClose();\r\n      }\r\n    };\r\n\r\n    if (isOpen) {\r\n      console.log('📂 Society modal opening - hiding navbar and preventing scroll');\r\n      wasModalOpen.current = true;\r\n      setCurrentImageIndex(0); // Reset to first image\r\n      \r\n      document.addEventListener('keydown', handleEscape);\r\n      document.body.style.overflow = 'hidden';\r\n      document.body.classList.add('modal-open');\r\n      \r\n      // 🆕 HIDE ALL NAVIGATION ELEMENTS\r\n      // Hide desktop navbar\r\n      const navbar = document.querySelector('.nav-container');\r\n      if (navbar) {\r\n        navbar.style.display = 'none';\r\n        console.log('✅ Desktop navbar hidden');\r\n      }\r\n      \r\n      // Hide mobile header\r\n      const mobileHeader = document.querySelector('.mobile-header');\r\n      if (mobileHeader) {\r\n        mobileHeader.style.display = 'none';\r\n        console.log('✅ Mobile header hidden');\r\n      }\r\n      \r\n      // Hide mobile sidebar\r\n      const mobileSidebar = document.querySelector('.mobile-sidebar');\r\n      if (mobileSidebar) {\r\n        mobileSidebar.style.display = 'none';\r\n        console.log('✅ Mobile sidebar hidden');\r\n      }\r\n      \r\n    } else if (wasModalOpen.current) {\r\n      console.log('📂 Society modal closing - restoring navbar and scroll');\r\n      \r\n      document.body.style.overflow = 'unset';\r\n      document.body.classList.remove('modal-open');\r\n      \r\n      // 🆕 RESTORE ALL NAVIGATION ELEMENTS\r\n      // Show desktop navbar\r\n      const navbar = document.querySelector('.nav-container');\r\n      if (navbar) {\r\n        navbar.style.display = 'block';\r\n        console.log('✅ Desktop navbar restored');\r\n      }\r\n      \r\n      // Show mobile header\r\n      const mobileHeader = document.querySelector('.mobile-header');\r\n      if (mobileHeader) {\r\n        mobileHeader.style.display = 'flex';\r\n        console.log('✅ Mobile header restored');\r\n      }\r\n      \r\n      // Show mobile sidebar\r\n      const mobileSidebar = document.querySelector('.mobile-sidebar');\r\n      if (mobileSidebar) {\r\n        mobileSidebar.style.display = '';\r\n        console.log('✅ Mobile sidebar restored');\r\n      }\r\n      \r\n      // Scroll back to the card position after a small delay\r\n      if (cardPosition && cardPosition.y !== undefined) {\r\n        setTimeout(() => {\r\n          console.log('🎯 Scrolling back to card position:', cardPosition.y);\r\n          window.scrollTo({\r\n            top: cardPosition.y,\r\n            left: 0,\r\n            behavior: 'smooth'\r\n          });\r\n        }, 100);\r\n      }\r\n      \r\n      wasModalOpen.current = false;\r\n    }\r\n\r\n    return () => {\r\n      document.removeEventListener('keydown', handleEscape);\r\n      document.body.style.overflow = 'unset';\r\n      document.body.classList.remove('modal-open');\r\n      \r\n      // Ensure navbar is always restored on cleanup\r\n      const navbar = document.querySelector('.nav-container');\r\n      if (navbar) navbar.style.display = 'block';\r\n      \r\n      const mobileHeader = document.querySelector('.mobile-header');\r\n      if (mobileHeader) mobileHeader.style.display = 'flex';\r\n      \r\n      const mobileSidebar = document.querySelector('.mobile-sidebar');\r\n      if (mobileSidebar) mobileSidebar.style.display = '';\r\n    };\r\n  }, [isOpen, onClose, cardPosition]);\r\n\r\n  if (!isOpen || !society) return null;\r\n\r\n  const handleBackdropClick = (e) => {\r\n    if (e.target === e.currentTarget) {\r\n      onClose();\r\n    }\r\n  };\r\n\r\n  // Get all available images (gallery + map)\r\n  const getAllImages = () => {\r\n    const images = [];\r\n    if (society.images && society.images.length > 0) {\r\n      society.images.forEach(img => {\r\n        images.push(`http://localhost:5000${img}`);\r\n      });\r\n    }\r\n    if (society.mapImage) {\r\n      images.push(`http://localhost:5000${society.mapImage}`);\r\n    }\r\n    if (images.length === 0) {\r\n      images.push('/assets/map.webp');\r\n    }\r\n    return images;\r\n  };\r\n\r\n  const allImages = getAllImages();\r\n\r\n  const nextImage = () => {\r\n    setCurrentImageIndex((prev) => (prev + 1) % allImages.length);\r\n  };\r\n\r\n  const prevImage = () => {\r\n    setCurrentImageIndex((prev) => (prev - 1 + allImages.length) % allImages.length);\r\n  };\r\n\r\n  return (\r\n    <div className=\"modal-overlay society-modal-overlay\" onClick={handleBackdropClick}>\r\n      <div className=\"modal-content society-modal\">\r\n        <button className=\"modal-close\" onClick={onClose}>\r\n          <i className=\"fas fa-times\"></i>\r\n        </button>\r\n        \r\n        <div className=\"modal-left\">\r\n          <div className=\"modal-gallery\">\r\n            <img \r\n              src={allImages[currentImageIndex]}\r\n              alt={`${society.name} - Image ${currentImageIndex + 1}`}\r\n              style={{\r\n                width: '100%', \r\n                height: '100%', \r\n                objectFit: 'cover'\r\n              }}\r\n              onError={(e) => {\r\n                e.target.src = '/assets/map.webp';\r\n              }}\r\n            />\r\n            \r\n            {/* Gallery Navigation */}\r\n            {allImages.length > 1 && (\r\n              <>\r\n                <button className=\"gallery-nav gallery-prev\" onClick={prevImage}>\r\n                  <i className=\"fas fa-chevron-left\"></i>\r\n                </button>\r\n                <button className=\"gallery-nav gallery-next\" onClick={nextImage}>\r\n                  <i className=\"fas fa-chevron-right\"></i>\r\n                </button>\r\n                <div className=\"gallery-counter\">\r\n                  {currentImageIndex + 1} / {allImages.length}\r\n                </div>\r\n              </>\r\n            )}\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"modal-right\">\r\n          <h2>{society.name}</h2>\r\n          <p className=\"modal-description\">{society.description}</p>\r\n          \r\n          {/* Gallery Info */}\r\n          {society.images && society.images.length > 0 && (\r\n            <div className=\"modal-gallery-info\">\r\n              <h4>Photo Gallery</h4>\r\n              <p>{society.images.length} images available</p>\r\n            </div>\r\n          )}\r\n          \r\n          {/* Amenities */}\r\n          {society.amenities && society.amenities.length > 0 && (\r\n            <div className=\"modal-amenities\">\r\n              <h4>Amenities</h4>\r\n              <div className=\"amenities-grid\">\r\n                {society.amenities.map((amenity, index) => (\r\n                  <div key={index} className=\"amenity-item\">\r\n                    <i className=\"fas fa-check\"></i>\r\n                    <span>{amenity}</span>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            </div>\r\n          )}\r\n          \r\n          {/* Contact Information */}\r\n          {society.contact && (\r\n            <div className=\"modal-contact\">\r\n              <h4>Contact Information</h4>\r\n              <div className=\"contact-info\">\r\n                {society.contact.phone && (\r\n                  <div className=\"contact-item\">\r\n                    <i className=\"fas fa-phone\"></i>\r\n                    <span>{society.contact.phone}</span>\r\n                  </div>\r\n                )}\r\n                {society.contact.email && (\r\n                  <div className=\"contact-item\">\r\n                    <i className=\"fas fa-envelope\"></i>\r\n                    <span>{society.contact.email}</span>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            </div>\r\n          )}\r\n          \r\n          <div className=\"modal-button\">\r\n            <button \r\n              className=\"btn btn-secondary modal-map-btn\" \r\n              onClick={() => {\r\n                const mapUrl = allImages[currentImageIndex];\r\n                window.open(mapUrl, '_blank');\r\n              }}\r\n            >\r\n              Open Image in New Tab\r\n            </button>\r\n            <button \r\n              className=\"btn btn-primary\" \r\n              onClick={() => {\r\n                window.location.href = '/contact';\r\n              }}\r\n            >\r\n              Contact Us\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\n// Enhanced Image Slider Component for Societies\r\nconst SocietiesImageSlider = ({ societies = [] }) => {\r\n  const [currentSlide, setCurrentSlide] = useState(0);\r\n  const [isPlaying, setIsPlaying] = useState(true);\r\n\r\n  // Create slides array from all society images\r\n  const slides = [];\r\n  societies.forEach(society => {\r\n    if (society.images && society.images.length > 0) {\r\n      society.images.forEach(image => {\r\n        slides.push({\r\n          image: `http://localhost:5000${image}`,\r\n          societyName: society.name,\r\n          societyId: society.id\r\n        });\r\n      });\r\n    } else if (society.mapImage) {\r\n      // Fallback to map image if no gallery images\r\n      slides.push({\r\n        image: `http://localhost:5000${society.mapImage}`,\r\n        societyName: society.name,\r\n        societyId: society.id\r\n      });\r\n    }\r\n  });\r\n\r\n  // Auto-slide functionality\r\n  useEffect(() => {\r\n    if (!isPlaying || slides.length <= 1) return;\r\n\r\n    const interval = setInterval(() => {\r\n      setCurrentSlide((prev) => (prev + 1) % slides.length);\r\n    }, 4000); // Change slide every 4 seconds\r\n\r\n    return () => clearInterval(interval);\r\n  }, [isPlaying, slides.length]);\r\n\r\n  const nextSlide = () => {\r\n    setCurrentSlide((prev) => (prev + 1) % slides.length);\r\n  };\r\n\r\n  const prevSlide = () => {\r\n    setCurrentSlide((prev) => (prev - 1 + slides.length) % slides.length);\r\n  };\r\n\r\n  const goToSlide = (index) => {\r\n    setCurrentSlide(index);\r\n  };\r\n\r\n  if (slides.length === 0) {\r\n    return (\r\n      <div className=\"societies-slider no-images\">\r\n        <div className=\"no-images-content\">\r\n          <i className=\"fas fa-images\"></i>\r\n          <h3>No Society Images Available</h3>\r\n          <p>Images will appear here once societies are added with gallery photos.</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"societies-slider\">\r\n      <div className=\"slider-container\">\r\n        {/* Main Image */}\r\n        <div className=\"slider-main\">\r\n          <img\r\n            src={slides[currentSlide].image}\r\n            alt={slides[currentSlide].societyName}\r\n            className=\"slider-image\"\r\n            onError={(e) => {\r\n              e.target.src = '/assets/map.webp';\r\n            }}\r\n          />\r\n          \r\n          {/* Overlay with Society Name */}\r\n          <div className=\"slider-overlay\">\r\n            <div className=\"slider-content\">\r\n              <h2 className=\"society-name\">{slides[currentSlide].societyName}</h2>\r\n              <div className=\"slide-counter\">\r\n                {currentSlide + 1} / {slides.length}\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Navigation Arrows */}\r\n          {slides.length > 1 && (\r\n            <>\r\n              <button \r\n                className=\"slider-nav prev\" \r\n                onClick={prevSlide}\r\n                aria-label=\"Previous image\"\r\n              >\r\n                <i className=\"fas fa-chevron-left\"></i>\r\n              </button>\r\n              <button \r\n                className=\"slider-nav next\" \r\n                onClick={nextSlide}\r\n                aria-label=\"Next image\"\r\n              >\r\n                <i className=\"fas fa-chevron-right\"></i>\r\n              </button>\r\n            </>\r\n          )}\r\n\r\n          {/* Play/Pause Button */}\r\n          {slides.length > 1 && (\r\n            <button \r\n              className=\"slider-play-pause\"\r\n              onClick={() => setIsPlaying(!isPlaying)}\r\n              aria-label={isPlaying ? 'Pause slideshow' : 'Play slideshow'}\r\n            >\r\n              <i className={`fas fa-${isPlaying ? 'pause' : 'play'}`}></i>\r\n            </button>\r\n          )}\r\n        </div>\r\n\r\n        {/* Thumbnails/Dots */}\r\n        {slides.length > 1 && (\r\n          <div className=\"slider-thumbnails\">\r\n            {slides.map((slide, index) => (\r\n              <button\r\n                key={index}\r\n                className={`thumbnail ${index === currentSlide ? 'active' : ''}`}\r\n                onClick={() => goToSlide(index)}\r\n                style={{\r\n                  backgroundImage: `url(${slide.image})`,\r\n                  backgroundSize: 'cover',\r\n                  backgroundPosition: 'center'\r\n                }}\r\n                aria-label={`Go to ${slide.societyName} image`}\r\n              >\r\n                <span className=\"thumbnail-label\">{slide.societyName}</span>\r\n              </button>\r\n            ))}\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst Societies = () => {\r\n  const { areaKey, subAreaId } = useParams();\r\n  const navigate = useNavigate();\r\n  const [societies, setSocieties] = useState([]);\r\n  const [areaInfo, setAreaInfo] = useState({});\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const [selectedSociety, setSelectedSociety] = useState(null);\r\n  const [isModalOpen, setIsModalOpen] = useState(false);\r\n  const [cardPosition, setCardPosition] = useState(null);\r\n\r\n  useEffect(() => {\r\n    loadSocieties();\r\n  }, [areaKey, subAreaId]);\r\n\r\n  const loadSocieties = async () => {\r\n    try {\r\n      setLoading(true);\r\n      setError(null);\r\n      \r\n      console.log(`🏘️ Loading societies for area: ${areaKey}, sub-area: ${subAreaId}`);\r\n      \r\n      const response = await fetch(`http://localhost:5000/api/societies/${areaKey}/${subAreaId}`);\r\n      \r\n      if (!response.ok) {\r\n        throw new Error(`HTTP error! status: ${response.status}`);\r\n      }\r\n      \r\n      const data = await response.json();\r\n      \r\n      if (data.success) {\r\n        setSocieties(data.data.societies || []);\r\n        setAreaInfo({\r\n          areaName: data.data.areaName,\r\n          subAreaName: data.data.subAreaName,\r\n          subAreaDescription: data.data.subAreaDescription\r\n        });\r\n        console.log('✅ Societies loaded successfully:', data.data.societies.length);\r\n      } else {\r\n        throw new Error(data.message || 'Failed to load societies');\r\n      }\r\n    } catch (error) {\r\n      console.error('❌ Error loading societies:', error);\r\n      setError(error.message);\r\n      // Load fallback data with sample images\r\n      loadFallbackData();\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const loadFallbackData = () => {\r\n    // Enhanced fallback society data with sample images\r\n    const fallbackSocieties = [\r\n      {\r\n        id: 1,\r\n        name: 'Green Valley Apartments',\r\n        description: 'Premium residential complex with modern amenities and excellent connectivity.',\r\n        mapImage: null,\r\n        images: [\r\n          'https://images.unsplash.com/photo-1545324418-cc1a3fa10c00?w=800',\r\n          'https://images.unsplash.com/photo-1512917774080-9991f1c4c750?w=800'\r\n        ],\r\n        amenities: ['Swimming Pool', 'Gym', 'Parking', 'Security', '24/7 Power Backup'],\r\n        contact: {\r\n          phone: '+91-9811186086',\r\n          email: 'info@greenvalley.com'\r\n        }\r\n      },\r\n      {\r\n        id: 2,\r\n        name: 'Royal Heights Society',\r\n        description: 'Luxury housing society offering world-class facilities and premium lifestyle.',\r\n        mapImage: null,\r\n        images: [\r\n          'https://images.unsplash.com/photo-1564013799919-ab600027ffc6?w=800',\r\n          'https://images.unsplash.com/photo-1480074568708-e7b720bb3f09?w=800'\r\n        ],\r\n        amenities: ['Club House', 'Tennis Court', 'Children Play Area', 'Garden', 'CCTV'],\r\n        contact: {\r\n          phone: '+91-9811186083',\r\n          email: 'contact@royalheights.com'\r\n        }\r\n      }\r\n    ];\r\n    \r\n    setSocieties(fallbackSocieties);\r\n    setAreaInfo({\r\n      areaName: 'Sample Area',\r\n      subAreaName: 'Sample Sub-Area',\r\n      subAreaDescription: 'This is sample data as the backend connection failed.'\r\n    });\r\n    console.log('⚠️ Using fallback society data with sample images');\r\n  };\r\n\r\n  const handleSocietyClick = (society, event) => {\r\n    console.log('🏘️ Society card clicked:', society.name);\r\n    \r\n    // Get the clicked card element position\r\n    const cardElement = event.currentTarget;\r\n    const rect = cardElement.getBoundingClientRect();\r\n    const scrollTop = window.pageYOffset || document.documentElement.scrollTop;\r\n    \r\n    const cardAbsolutePosition = {\r\n      y: rect.top + scrollTop - 100,\r\n      x: rect.left,\r\n      element: cardElement\r\n    };\r\n    \r\n    setCardPosition(cardAbsolutePosition);\r\n    setSelectedSociety(society);\r\n    setIsModalOpen(true);\r\n  };\r\n\r\n  const handleCloseModal = () => {\r\n    setIsModalOpen(false);\r\n    setTimeout(() => {\r\n      setSelectedSociety(null);\r\n      setTimeout(() => {\r\n        setCardPosition(null);\r\n      }, 1000);\r\n    }, 300);\r\n  };\r\n\r\n  const getSocietyImage = (society) => {\r\n    // Priority: 1. First gallery image, 2. Map image, 3. Default\r\n    if (society.images && society.images.length > 0) {\r\n      return `http://localhost:5000${society.images[0]}`;\r\n    } else if (society.mapImage) {\r\n      return `http://localhost:5000${society.mapImage}`;\r\n    }\r\n    return '/assets/map.webp';\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <PageTransition>\r\n        <div className=\"societies-page\">\r\n          <div className=\"container\">\r\n            <div className=\"section-title\">\r\n              <h2>Loading Societies...</h2>\r\n              <div className=\"loading-spinner\" style={{ margin: '50px auto' }}></div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </PageTransition>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <PageTransition>\r\n      <div className=\"societies-page\">\r\n        <div className=\"container\">\r\n          {/* Back Navigation */}\r\n          <div className=\"back-navigation\">\r\n            <button \r\n              className=\"back-btn\"\r\n              onClick={() => navigate(-1)}\r\n            >\r\n              <i className=\"fas fa-arrow-left\"></i>\r\n              Back\r\n            </button>\r\n          </div>\r\n\r\n          {/* Page Header */}\r\n          <div className=\"section-title\">\r\n            <h2>{areaInfo.subAreaName} Societies</h2>\r\n            <p>{areaInfo.subAreaDescription}</p>\r\n            <div className=\"breadcrumb\">\r\n              <span>{areaInfo.areaName}</span>\r\n              <i className=\"fas fa-chevron-right\"></i>\r\n              <span>{areaInfo.subAreaName}</span>\r\n            </div>\r\n          </div>\r\n\r\n          {error && (\r\n            <div className=\"alert alert-error\">\r\n              {error}\r\n            </div>\r\n          )}\r\n\r\n          {/* Enhanced Image Slider */}\r\n          <SocietiesImageSlider societies={societies} />\r\n\r\n          {/* Societies Grid */}\r\n          {societies.length > 0 ? (\r\n            <div className=\"societies-grid\">\r\n              {societies.map((society, index) => (\r\n                <div\r\n                  key={society.id}\r\n                  className=\"society-card\"\r\n                  onClick={(event) => handleSocietyClick(society, event)}\r\n                  style={{\r\n                    animationDelay: `${index * 0.1}s`\r\n                  }}\r\n                >\r\n                  <div className=\"society-image\">\r\n                    <img \r\n                      src={getSocietyImage(society)}\r\n                      alt={`${society.name} Image`}\r\n                      onError={(e) => {\r\n                        e.target.src = '/assets/map.webp';\r\n                      }}\r\n                    />\r\n                    {/* Image Counter Badge */}\r\n                    {society.images && society.images.length > 0 && (\r\n                      <div className=\"image-count-badge\">\r\n                        <i className=\"fas fa-images\"></i>\r\n                        {society.images.length}\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                  \r\n                  <div className=\"society-content\">\r\n                    <h3>{society.name}</h3>\r\n                    <p className=\"society-description\">{society.description}</p>\r\n                    \r\n                    {/* Amenities */}\r\n                    {society.amenities && society.amenities.length > 0 && (\r\n                      <div className=\"amenities-preview\">\r\n                        <div className=\"amenities-list\">\r\n                          {society.amenities.slice(0, 3).map((amenity, idx) => (\r\n                            <span key={idx} className=\"amenity-tag\">\r\n                              <i className=\"fas fa-check\"></i>\r\n                              {amenity}\r\n                            </span>\r\n                          ))}\r\n                          {society.amenities.length > 3 && (\r\n                            <span className=\"amenity-tag more\">\r\n                              +{society.amenities.length - 3} more\r\n                            </span>\r\n                          )}\r\n                        </div>\r\n                      </div>\r\n                    )}\r\n                    \r\n                    {/* Contact Info */}\r\n                    {society.contact && (\r\n                      <div className=\"contact-preview\">\r\n                        {society.contact.phone && (\r\n                          <span className=\"contact-item\">\r\n                            <i className=\"fas fa-phone\"></i>\r\n                            {society.contact.phone}\r\n                          </span>\r\n                        )}\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          ) : (\r\n            <div className=\"no-societies\">\r\n              <div className=\"no-societies-content\">\r\n                <i className=\"fas fa-building\"></i>\r\n                <h3>No Societies Available</h3>\r\n                <p>\r\n                  We're currently updating our listings for this area. \r\n                  Please check back soon or contact us for the latest available societies.\r\n                </p>\r\n                <button \r\n                  className=\"btn btn-primary\"\r\n                  onClick={() => navigate('/contact')}\r\n                >\r\n                  Contact Us\r\n                </button>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        {/* Enhanced Society Modal */}\r\n        <SocietyModal\r\n          isOpen={isModalOpen}\r\n          onClose={handleCloseModal}\r\n          society={selectedSociety}\r\n          cardPosition={cardPosition}\r\n        />\r\n      </div>\r\n    </PageTransition>\r\n  );\r\n};\r\n\r\nexport default Societies;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}