{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Tejas Jaiswal\\\\Desktop\\\\OM\\\\property-dealing-website\\\\frontend\\\\src\\\\components\\\\Properties.jsx\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useSearchParams, useNavigate } from 'react-router-dom';\nimport { fetchAreas, fetchProperties, fetchPropertiesByArea } from '../services/api';\nimport PageTransition from './PageTransition';\nimport './Properties.css';\n\n// Image Carousel Component for Frontend Property Cards\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst PropertyImageCarousel = ({\n  images,\n  title\n}) => {\n  _s();\n  const [currentImageIndex, setCurrentImageIndex] = useState(0);\n  const nextImage = () => {\n    setCurrentImageIndex(prev => (prev + 1) % images.length);\n  };\n  const prevImage = () => {\n    setCurrentImageIndex(prev => (prev - 1 + images.length) % images.length);\n  };\n\n  // Auto-cycle images every 3 seconds\n  useEffect(() => {\n    if (images && images.length > 1) {\n      const interval = setInterval(nextImage, 3000);\n      return () => clearInterval(interval);\n    }\n  }, [images]);\n  if (!images || images.length === 0) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"property-image\",\n      children: /*#__PURE__*/_jsxDEV(\"span\", {\n        children: \"Property Image\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 30,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"property-image-carousel\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"property-image\",\n      style: {\n        backgroundImage: `url(http://localhost:5000${images[currentImageIndex]})`,\n        backgroundSize: 'cover',\n        backgroundPosition: 'center',\n        position: 'relative'\n      },\n      children: images.length > 1 && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"carousel-btn carousel-btn-prev\",\n          onClick: e => {\n            e.preventDefault();\n            e.stopPropagation();\n            prevImage();\n          },\n          \"aria-label\": \"Previous image\",\n          children: /*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"fas fa-chevron-left\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"carousel-btn carousel-btn-next\",\n          onClick: e => {\n            e.preventDefault();\n            e.stopPropagation();\n            nextImage();\n          },\n          \"aria-label\": \"Next image\",\n          children: /*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"fas fa-chevron-right\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"image-counter\",\n          children: [currentImageIndex + 1, \"/\", images.length]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"carousel-dots\",\n          children: images.map((_, index) => /*#__PURE__*/_jsxDEV(\"button\", {\n            className: `carousel-dot ${index === currentImageIndex ? 'active' : ''}`,\n            onClick: e => {\n              e.preventDefault();\n              e.stopPropagation();\n              setCurrentImageIndex(index);\n            },\n            \"aria-label\": `Go to image ${index + 1}`\n          }, index, false, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 36,\n    columnNumber: 5\n  }, this);\n};\n_s(PropertyImageCarousel, \"iwdYV/csWqs0gMEM0R8yiwCHnVs=\");\n_c = PropertyImageCarousel;\nconst Properties = () => {\n  _s2();\n  var _areas$selectedArea3;\n  const [searchParams, setSearchParams] = useSearchParams();\n  const [selectedArea, setSelectedArea] = useState(searchParams.get('area') || 'all');\n  const [filteredProperties, setFilteredProperties] = useState([]);\n  const [areas, setAreas] = useState({});\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const navigate = useNavigate();\n  useEffect(() => {\n    loadInitialData();\n  }, []);\n  useEffect(() => {\n    const areaFromUrl = searchParams.get('area');\n    if (areaFromUrl && areaFromUrl !== selectedArea) {\n      setSelectedArea(areaFromUrl);\n    }\n  }, [searchParams]);\n  useEffect(() => {\n    if (Object.keys(areas).length > 0) {\n      filterProperties();\n    }\n  }, [selectedArea, areas]);\n  const loadInitialData = async () => {\n    try {\n      setLoading(true);\n      setError(null);\n\n      // Load areas first\n      const areasData = await fetchAreas();\n      setAreas(areasData);\n\n      // If no areas loaded from API, load fallback\n      if (Object.keys(areasData).length === 0) {\n        const {\n          areas: fallbackAreas\n        } = await import('../data/data');\n        setAreas(fallbackAreas);\n      }\n    } catch (error) {\n      console.error('Error loading initial data:', error);\n      setError('Failed to load data');\n\n      // Load fallback data\n      try {\n        const {\n          areas: fallbackAreas,\n          properties: fallbackProperties\n        } = await import('../data/data');\n        setAreas(fallbackAreas);\n      } catch (fallbackError) {\n        console.error('Error loading fallback data:', fallbackError);\n      }\n    } finally {\n      setLoading(false);\n    }\n  };\n  const filterProperties = async () => {\n    try {\n      setLoading(true);\n      let properties = [];\n      if (selectedArea === 'all') {\n        // Get all properties\n        properties = await fetchProperties();\n      } else {\n        // Get properties for specific area\n        properties = await fetchPropertiesByArea(selectedArea);\n      }\n\n      // Add area information to each property\n      const propertiesWithAreaInfo = properties.map(property => {\n        var _areas$property$areaK;\n        return {\n          ...property,\n          areaName: ((_areas$property$areaK = areas[property.areaKey]) === null || _areas$property$areaK === void 0 ? void 0 : _areas$property$areaK.name) || property.areaKey\n        };\n      });\n      setFilteredProperties(propertiesWithAreaInfo);\n    } catch (error) {\n      console.error('Error filtering properties:', error);\n\n      // Fallback to static data\n      try {\n        const {\n          properties: fallbackProperties\n        } = await import('../data/data');\n        if (selectedArea === 'all') {\n          const allProperties = [];\n          Object.entries(fallbackProperties).forEach(([areaKey, areaProperties]) => {\n            const areaData = areas[areaKey];\n            if (areaData) {\n              areaProperties.forEach(property => {\n                allProperties.push({\n                  ...property,\n                  areaKey,\n                  areaName: areaData.name\n                });\n              });\n            }\n          });\n          setFilteredProperties(allProperties);\n        } else {\n          const areaProperties = fallbackProperties[selectedArea] || [];\n          const areaData = areas[selectedArea];\n          if (areaData) {\n            const propertiesWithArea = areaProperties.map(property => ({\n              ...property,\n              areaKey: selectedArea,\n              areaName: areaData.name\n            }));\n            setFilteredProperties(propertiesWithArea);\n          } else {\n            setFilteredProperties([]);\n          }\n        }\n      } catch (fallbackError) {\n        console.error('Error loading fallback properties:', fallbackError);\n        setFilteredProperties([]);\n      }\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handleAreaChange = areaKey => {\n    setSelectedArea(areaKey);\n    if (areaKey === 'all') {\n      setSearchParams({});\n    } else {\n      setSearchParams({\n        area: areaKey\n      });\n    }\n  };\n\n  // 🆕 Navigate to property detail page\n  const handleViewProperty = property => {\n    console.log('🏠 Navigating to property details:', property.title);\n    navigate(`/property/${property._id || property.id}`, {\n      state: {\n        property,\n        areaName: property.areaName\n      }\n    });\n  };\n  const getPageTitle = () => {\n    var _areas$selectedArea;\n    if (selectedArea === 'all') {\n      return 'All Properties';\n    }\n    return ((_areas$selectedArea = areas[selectedArea]) === null || _areas$selectedArea === void 0 ? void 0 : _areas$selectedArea.name) + ' Properties' || 'Properties';\n  };\n  const getPageDescription = () => {\n    var _areas$selectedArea2;\n    if (selectedArea === 'all') {\n      return 'Browse all available properties across our premium locations';\n    }\n    return ((_areas$selectedArea2 = areas[selectedArea]) === null || _areas$selectedArea2 === void 0 ? void 0 : _areas$selectedArea2.description) || 'Explore premium properties in this area';\n  };\n  if (loading && Object.keys(areas).length === 0) {\n    return /*#__PURE__*/_jsxDEV(PageTransition, {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"properties-page\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"container\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"section-title\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              children: \"Loading Properties...\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 257,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"loading-spinner\",\n              style: {\n                margin: '50px auto'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 258,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 256,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 255,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 254,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 253,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(PageTransition, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"properties-page\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"section-title\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: getPageTitle()\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 271,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: getPageDescription()\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 272,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 270,\n          columnNumber: 11\n        }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"alert alert-error\",\n          style: {\n            background: '#ffebee',\n            color: '#c62828',\n            padding: '15px',\n            borderRadius: '8px',\n            marginBottom: '20px',\n            border: '1px solid #ef5350'\n          },\n          children: error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 276,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"filter-section\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"filter-container\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              children: \"Filter by Area:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 291,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"area-filters\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                className: `filter-btn ${selectedArea === 'all' ? 'active' : ''}`,\n                onClick: () => handleAreaChange('all'),\n                children: \"All Areas\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 293,\n                columnNumber: 17\n              }, this), Object.entries(areas).map(([key, area]) => /*#__PURE__*/_jsxDEV(\"button\", {\n                className: `filter-btn ${selectedArea === key ? 'active' : ''}`,\n                onClick: () => handleAreaChange(key),\n                children: area.name\n              }, key, false, {\n                fileName: _jsxFileName,\n                lineNumber: 300,\n                columnNumber: 19\n              }, this))]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 292,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 290,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 289,\n          columnNumber: 11\n        }, this), loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            textAlign: 'center',\n            padding: '50px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"loading-spinner\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 315,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Loading properties...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 316,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 314,\n          columnNumber: 13\n        }, this) : filteredProperties.length > 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"properties-grid\",\n          children: filteredProperties.map((property, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"property-card\",\n            style: {\n              animationDelay: `${index * 0.1}s`\n            },\n            children: [/*#__PURE__*/_jsxDEV(PropertyImageCarousel, {\n              images: property.images,\n              title: property.title\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 329,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"property-details\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"property-price\",\n                children: property.price\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 335,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"property-title\",\n                children: property.title\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 336,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"property-location\",\n                children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"fas fa-map-marker-alt\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 338,\n                  columnNumber: 23\n                }, this), property.location]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 337,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"property-area-badge\",\n                children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"fas fa-building\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 342,\n                  columnNumber: 23\n                }, this), property.areaName]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 341,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"property-features\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"feature\",\n                  children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                    className: \"fas fa-bed\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 347,\n                    columnNumber: 25\n                  }, this), property.beds, \" Beds\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 346,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"feature\",\n                  children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                    className: \"fas fa-bath\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 351,\n                    columnNumber: 25\n                  }, this), property.baths, \" Baths\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 350,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"feature\",\n                  children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                    className: \"fas fa-expand-arrows-alt\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 355,\n                    columnNumber: 25\n                  }, this), property.area]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 354,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 345,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"property-buttons\",\n                children: /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"btn btn-primary view-property-btn\",\n                  onClick: () => handleViewProperty(property),\n                  children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                    className: \"fas fa-eye\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 366,\n                    columnNumber: 25\n                  }, this), \"View Property\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 362,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 361,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 334,\n              columnNumber: 19\n            }, this)]\n          }, property._id || `${property.areaKey}-${index}`, true, {\n            fileName: _jsxFileName,\n            lineNumber: 321,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 319,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"no-properties\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"no-properties-content\",\n            children: [/*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"fas fa-home\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 377,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n              children: \"No Properties Available\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 378,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: selectedArea === 'all' ? \"No properties found. Check back soon or contact us for the latest available properties.\" : `No properties found in ${((_areas$selectedArea3 = areas[selectedArea]) === null || _areas$selectedArea3 === void 0 ? void 0 : _areas$selectedArea3.name) || selectedArea}. Try selecting a different area or contact us for more information.`\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 379,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn btn-primary\",\n              onClick: () => window.location.href = '/contact',\n              children: \"Contact Us\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 385,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 376,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 375,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 269,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 268,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 267,\n    columnNumber: 5\n  }, this);\n};\n_s2(Properties, \"8kz+pjfabKxHOYYNYAK+K9T76xo=\", false, function () {\n  return [useSearchParams, useNavigate];\n});\n_c2 = Properties;\nexport default Properties;\nvar _c, _c2;\n$RefreshReg$(_c, \"PropertyImageCarousel\");\n$RefreshReg$(_c2, \"Properties\");","map":{"version":3,"names":["React","useState","useEffect","useSearchParams","useNavigate","fetchAreas","fetchProperties","fetchPropertiesByArea","PageTransition","jsxDEV","_jsxDEV","Fragment","_Fragment","PropertyImageCarousel","images","title","_s","currentImageIndex","setCurrentImageIndex","nextImage","prev","length","prevImage","interval","setInterval","clearInterval","className","children","fileName","_jsxFileName","lineNumber","columnNumber","style","backgroundImage","backgroundSize","backgroundPosition","position","onClick","e","preventDefault","stopPropagation","map","_","index","_c","Properties","_s2","_areas$selectedArea3","searchParams","setSearchParams","selectedArea","setSelectedArea","get","filteredProperties","setFilteredProperties","areas","setAreas","loading","setLoading","error","setError","navigate","loadInitialData","areaFromUrl","Object","keys","filterProperties","areasData","fallbackAreas","console","properties","fallbackProperties","fallbackError","propertiesWithAreaInfo","property","_areas$property$areaK","areaName","areaKey","name","allProperties","entries","forEach","areaProperties","areaData","push","propertiesWithArea","handleAreaChange","area","handleViewProperty","log","_id","id","state","getPageTitle","_areas$selectedArea","getPageDescription","_areas$selectedArea2","description","margin","background","color","padding","borderRadius","marginBottom","border","key","textAlign","animationDelay","price","location","beds","baths","window","href","_c2","$RefreshReg$"],"sources":["C:/Users/Tejas Jaiswal/Desktop/OM/property-dealing-website/frontend/src/components/Properties.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useSearchParams, useNavigate } from 'react-router-dom';\r\nimport { fetchAreas, fetchProperties, fetchPropertiesByArea } from '../services/api';\r\nimport PageTransition from './PageTransition';\r\nimport './Properties.css';\r\n\r\n// Image Carousel Component for Frontend Property Cards\r\nconst PropertyImageCarousel = ({ images, title }) => {\r\n  const [currentImageIndex, setCurrentImageIndex] = useState(0);\r\n\r\n  const nextImage = () => {\r\n    setCurrentImageIndex((prev) => (prev + 1) % images.length);\r\n  };\r\n\r\n  const prevImage = () => {\r\n    setCurrentImageIndex((prev) => (prev - 1 + images.length) % images.length);\r\n  };\r\n\r\n  // Auto-cycle images every 3 seconds\r\n  useEffect(() => {\r\n    if (images && images.length > 1) {\r\n      const interval = setInterval(nextImage, 3000);\r\n      return () => clearInterval(interval);\r\n    }\r\n  }, [images]);\r\n\r\n  if (!images || images.length === 0) {\r\n    return (\r\n      <div className=\"property-image\">\r\n        <span>Property Image</span>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"property-image-carousel\">\r\n      <div \r\n        className=\"property-image\"\r\n        style={{\r\n          backgroundImage: `url(http://localhost:5000${images[currentImageIndex]})`,\r\n          backgroundSize: 'cover',\r\n          backgroundPosition: 'center',\r\n          position: 'relative'\r\n        }}\r\n      >\r\n        {images.length > 1 && (\r\n          <>\r\n            {/* Navigation Arrows */}\r\n            <button \r\n              className=\"carousel-btn carousel-btn-prev\"\r\n              onClick={(e) => {\r\n                e.preventDefault();\r\n                e.stopPropagation();\r\n                prevImage();\r\n              }}\r\n              aria-label=\"Previous image\"\r\n            >\r\n              <i className=\"fas fa-chevron-left\"></i>\r\n            </button>\r\n            \r\n            <button \r\n              className=\"carousel-btn carousel-btn-next\"\r\n              onClick={(e) => {\r\n                e.preventDefault();\r\n                e.stopPropagation();\r\n                nextImage();\r\n              }}\r\n              aria-label=\"Next image\"\r\n            >\r\n              <i className=\"fas fa-chevron-right\"></i>\r\n            </button>\r\n\r\n            {/* Image Counter */}\r\n            <div className=\"image-counter\">\r\n              {currentImageIndex + 1}/{images.length}\r\n            </div>\r\n\r\n            {/* Dot Indicators */}\r\n            <div className=\"carousel-dots\">\r\n              {images.map((_, index) => (\r\n                <button\r\n                  key={index}\r\n                  className={`carousel-dot ${index === currentImageIndex ? 'active' : ''}`}\r\n                  onClick={(e) => {\r\n                    e.preventDefault();\r\n                    e.stopPropagation();\r\n                    setCurrentImageIndex(index);\r\n                  }}\r\n                  aria-label={`Go to image ${index + 1}`}\r\n                />\r\n              ))}\r\n            </div>\r\n          </>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst Properties = () => {\r\n  const [searchParams, setSearchParams] = useSearchParams();\r\n  const [selectedArea, setSelectedArea] = useState(searchParams.get('area') || 'all');\r\n  const [filteredProperties, setFilteredProperties] = useState([]);\r\n  const [areas, setAreas] = useState({});\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const navigate = useNavigate();\r\n\r\n  useEffect(() => {\r\n    loadInitialData();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    const areaFromUrl = searchParams.get('area');\r\n    if (areaFromUrl && areaFromUrl !== selectedArea) {\r\n      setSelectedArea(areaFromUrl);\r\n    }\r\n  }, [searchParams]);\r\n\r\n  useEffect(() => {\r\n    if (Object.keys(areas).length > 0) {\r\n      filterProperties();\r\n    }\r\n  }, [selectedArea, areas]);\r\n\r\n  const loadInitialData = async () => {\r\n    try {\r\n      setLoading(true);\r\n      setError(null);\r\n      \r\n      // Load areas first\r\n      const areasData = await fetchAreas();\r\n      setAreas(areasData);\r\n      \r\n      // If no areas loaded from API, load fallback\r\n      if (Object.keys(areasData).length === 0) {\r\n        const { areas: fallbackAreas } = await import('../data/data');\r\n        setAreas(fallbackAreas);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error loading initial data:', error);\r\n      setError('Failed to load data');\r\n      \r\n      // Load fallback data\r\n      try {\r\n        const { areas: fallbackAreas, properties: fallbackProperties } = await import('../data/data');\r\n        setAreas(fallbackAreas);\r\n      } catch (fallbackError) {\r\n        console.error('Error loading fallback data:', fallbackError);\r\n      }\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const filterProperties = async () => {\r\n    try {\r\n      setLoading(true);\r\n      let properties = [];\r\n\r\n      if (selectedArea === 'all') {\r\n        // Get all properties\r\n        properties = await fetchProperties();\r\n      } else {\r\n        // Get properties for specific area\r\n        properties = await fetchPropertiesByArea(selectedArea);\r\n      }\r\n\r\n      // Add area information to each property\r\n      const propertiesWithAreaInfo = properties.map(property => ({\r\n        ...property,\r\n        areaName: areas[property.areaKey]?.name || property.areaKey\r\n      }));\r\n\r\n      setFilteredProperties(propertiesWithAreaInfo);\r\n    } catch (error) {\r\n      console.error('Error filtering properties:', error);\r\n      \r\n      // Fallback to static data\r\n      try {\r\n        const { properties: fallbackProperties } = await import('../data/data');\r\n        if (selectedArea === 'all') {\r\n          const allProperties = [];\r\n          Object.entries(fallbackProperties).forEach(([areaKey, areaProperties]) => {\r\n            const areaData = areas[areaKey];\r\n            if (areaData) {\r\n              areaProperties.forEach(property => {\r\n                allProperties.push({\r\n                  ...property,\r\n                  areaKey,\r\n                  areaName: areaData.name\r\n                });\r\n              });\r\n            }\r\n          });\r\n          setFilteredProperties(allProperties);\r\n        } else {\r\n          const areaProperties = fallbackProperties[selectedArea] || [];\r\n          const areaData = areas[selectedArea];\r\n          if (areaData) {\r\n            const propertiesWithArea = areaProperties.map(property => ({\r\n              ...property,\r\n              areaKey: selectedArea,\r\n              areaName: areaData.name\r\n            }));\r\n            setFilteredProperties(propertiesWithArea);\r\n          } else {\r\n            setFilteredProperties([]);\r\n          }\r\n        }\r\n      } catch (fallbackError) {\r\n        console.error('Error loading fallback properties:', fallbackError);\r\n        setFilteredProperties([]);\r\n      }\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleAreaChange = (areaKey) => {\r\n    setSelectedArea(areaKey);\r\n    if (areaKey === 'all') {\r\n      setSearchParams({});\r\n    } else {\r\n      setSearchParams({ area: areaKey });\r\n    }\r\n  };\r\n\r\n  // 🆕 Navigate to property detail page\r\n  const handleViewProperty = (property) => {\r\n    console.log('🏠 Navigating to property details:', property.title);\r\n    navigate(`/property/${property._id || property.id}`, { \r\n      state: { property, areaName: property.areaName } \r\n    });\r\n  };\r\n\r\n  const getPageTitle = () => {\r\n    if (selectedArea === 'all') {\r\n      return 'All Properties';\r\n    }\r\n    return areas[selectedArea]?.name + ' Properties' || 'Properties';\r\n  };\r\n\r\n  const getPageDescription = () => {\r\n    if (selectedArea === 'all') {\r\n      return 'Browse all available properties across our premium locations';\r\n    }\r\n    return areas[selectedArea]?.description || 'Explore premium properties in this area';\r\n  };\r\n\r\n  if (loading && Object.keys(areas).length === 0) {\r\n    return (\r\n      <PageTransition>\r\n        <div className=\"properties-page\">\r\n          <div className=\"container\">\r\n            <div className=\"section-title\">\r\n              <h2>Loading Properties...</h2>\r\n              <div className=\"loading-spinner\" style={{ margin: '50px auto' }}></div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </PageTransition>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <PageTransition>\r\n      <div className=\"properties-page\">\r\n        <div className=\"container\">\r\n          <div className=\"section-title\">\r\n            <h2>{getPageTitle()}</h2>\r\n            <p>{getPageDescription()}</p>\r\n          </div>\r\n\r\n          {error && (\r\n            <div className=\"alert alert-error\" style={{\r\n              background: '#ffebee',\r\n              color: '#c62828',\r\n              padding: '15px',\r\n              borderRadius: '8px',\r\n              marginBottom: '20px',\r\n              border: '1px solid #ef5350'\r\n            }}>\r\n              {error}\r\n            </div>\r\n          )}\r\n\r\n          {/* Filter Section */}\r\n          <div className=\"filter-section\">\r\n            <div className=\"filter-container\">\r\n              <h3>Filter by Area:</h3>\r\n              <div className=\"area-filters\">\r\n                <button\r\n                  className={`filter-btn ${selectedArea === 'all' ? 'active' : ''}`}\r\n                  onClick={() => handleAreaChange('all')}\r\n                >\r\n                  All Areas\r\n                </button>\r\n                {Object.entries(areas).map(([key, area]) => (\r\n                  <button\r\n                    key={key}\r\n                    className={`filter-btn ${selectedArea === key ? 'active' : ''}`}\r\n                    onClick={() => handleAreaChange(key)}\r\n                  >\r\n                    {area.name}\r\n                  </button>\r\n                ))}\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Properties Grid */}\r\n          {loading ? (\r\n            <div style={{ textAlign: 'center', padding: '50px' }}>\r\n              <div className=\"loading-spinner\"></div>\r\n              <p>Loading properties...</p>\r\n            </div>\r\n          ) : filteredProperties.length > 0 ? (\r\n            <div className=\"properties-grid\">\r\n              {filteredProperties.map((property, index) => (\r\n                <div \r\n                  key={property._id || `${property.areaKey}-${index}`} \r\n                  className=\"property-card\"\r\n                  style={{\r\n                    animationDelay: `${index * 0.1}s`\r\n                  }}\r\n                >\r\n                  {/* Property Image with Carousel */}\r\n                  <PropertyImageCarousel \r\n                    images={property.images} \r\n                    title={property.title}\r\n                  />\r\n                  \r\n                  <div className=\"property-details\">\r\n                    <div className=\"property-price\">{property.price}</div>\r\n                    <div className=\"property-title\">{property.title}</div>\r\n                    <div className=\"property-location\">\r\n                      <i className=\"fas fa-map-marker-alt\"></i>\r\n                      {property.location}\r\n                    </div>\r\n                    <div className=\"property-area-badge\">\r\n                      <i className=\"fas fa-building\"></i>\r\n                      {property.areaName}\r\n                    </div>\r\n                    <div className=\"property-features\">\r\n                      <div className=\"feature\">\r\n                        <i className=\"fas fa-bed\"></i>\r\n                        {property.beds} Beds\r\n                      </div>\r\n                      <div className=\"feature\">\r\n                        <i className=\"fas fa-bath\"></i>\r\n                        {property.baths} Baths\r\n                      </div>\r\n                      <div className=\"feature\">\r\n                        <i className=\"fas fa-expand-arrows-alt\"></i>\r\n                        {property.area}\r\n                      </div>\r\n                    </div>\r\n                    \r\n                    {/* 🆕 Single View Property Button */}\r\n                    <div className=\"property-buttons\">\r\n                      <button\r\n                        className=\"btn btn-primary view-property-btn\"\r\n                        onClick={() => handleViewProperty(property)}\r\n                      >\r\n                        <i className=\"fas fa-eye\"></i>\r\n                        View Property\r\n                      </button>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          ) : (\r\n            <div className=\"no-properties\">\r\n              <div className=\"no-properties-content\">\r\n                <i className=\"fas fa-home\"></i>\r\n                <h3>No Properties Available</h3>\r\n                <p>\r\n                  {selectedArea === 'all' \r\n                    ? \"No properties found. Check back soon or contact us for the latest available properties.\"\r\n                    : `No properties found in ${areas[selectedArea]?.name || selectedArea}. Try selecting a different area or contact us for more information.`\r\n                  }\r\n                </p>\r\n                <button \r\n                  className=\"btn btn-primary\"\r\n                  onClick={() => window.location.href = '/contact'}\r\n                >\r\n                  Contact Us\r\n                </button>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </PageTransition>\r\n  );\r\n};\r\n\r\nexport default Properties;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}