{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Tejas Jaiswal\\\\Desktop\\\\OM\\\\property-dealing-website\\\\frontend\\\\src\\\\components\\\\Societies.jsx\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$(),\n  _s3 = $RefreshSig$();\n// frontend/src/components/Societies.jsx - Enhanced with image slider\nimport React, { useState, useEffect } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport PageTransition from './PageTransition';\nimport Modal from './Modal';\nimport './Societies.css';\n\n// Enhanced Image Slider Component for Societies\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst SocietiesImageSlider = ({\n  societies = []\n}) => {\n  _s();\n  const [currentSlide, setCurrentSlide] = useState(0);\n  const [isPlaying, setIsPlaying] = useState(true);\n\n  // Create slides array from all society images\n  const slides = [];\n  societies.forEach(society => {\n    if (society.images && society.images.length > 0) {\n      society.images.forEach(image => {\n        slides.push({\n          image: `http://localhost:5000${image}`,\n          societyName: society.name,\n          societyId: society.id\n        });\n      });\n    } else if (society.mapImage) {\n      // Fallback to map image if no gallery images\n      slides.push({\n        image: `http://localhost:5000${society.mapImage}`,\n        societyName: society.name,\n        societyId: society.id\n      });\n    }\n  });\n\n  // Auto-slide functionality\n  useEffect(() => {\n    if (!isPlaying || slides.length <= 1) return;\n    const interval = setInterval(() => {\n      setCurrentSlide(prev => (prev + 1) % slides.length);\n    }, 4000); // Change slide every 4 seconds\n\n    return () => clearInterval(interval);\n  }, [isPlaying, slides.length]);\n  const nextSlide = () => {\n    setCurrentSlide(prev => (prev + 1) % slides.length);\n  };\n  const prevSlide = () => {\n    setCurrentSlide(prev => (prev - 1 + slides.length) % slides.length);\n  };\n  const goToSlide = index => {\n    setCurrentSlide(index);\n  };\n  if (slides.length === 0) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"societies-slider no-images\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"no-images-content\",\n        children: [/*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fas fa-images\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"No Society Images Available\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Images will appear here once societies are added with gallery photos.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"societies-slider\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"slider-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"slider-main\",\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: slides[currentSlide].image,\n          alt: slides[currentSlide].societyName,\n          className: \"slider-image\",\n          onError: e => {\n            e.target.src = '/assets/map.webp';\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"slider-overlay\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"slider-content\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"society-name\",\n              children: slides[currentSlide].societyName\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 86,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"slide-counter\",\n              children: [currentSlide + 1, \" / \", slides.length]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 87,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 11\n        }, this), slides.length > 1 && /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"slider-nav prev\",\n            onClick: prevSlide,\n            \"aria-label\": \"Previous image\",\n            children: /*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"fas fa-chevron-left\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 101,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"slider-nav next\",\n            onClick: nextSlide,\n            \"aria-label\": \"Next image\",\n            children: /*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"fas fa-chevron-right\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 108,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true), slides.length > 1 && /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"slider-play-pause\",\n          onClick: () => setIsPlaying(!isPlaying),\n          \"aria-label\": isPlaying ? 'Pause slideshow' : 'Play slideshow',\n          children: /*#__PURE__*/_jsxDEV(\"i\", {\n            className: `fas fa-${isPlaying ? 'pause' : 'play'}`\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 120,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 9\n      }, this), slides.length > 1 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"slider-thumbnails\",\n        children: slides.map((slide, index) => /*#__PURE__*/_jsxDEV(\"button\", {\n          className: `thumbnail ${index === currentSlide ? 'active' : ''}`,\n          onClick: () => goToSlide(index),\n          style: {\n            backgroundImage: `url(${slide.image})`,\n            backgroundSize: 'cover',\n            backgroundPosition: 'center'\n          },\n          \"aria-label\": `Go to ${slide.societyName} image`,\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"thumbnail-label\",\n            children: slide.societyName\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 140,\n            columnNumber: 17\n          }, this)\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 70,\n    columnNumber: 5\n  }, this);\n};\n_s(SocietiesImageSlider, \"1Kx3cfdvMnC0mCeLJm+LW/p9PPU=\");\n_c = SocietiesImageSlider;\nconst Societies = () => {\n  _s2();\n  const {\n    areaKey,\n    subAreaId\n  } = useParams();\n  const navigate = useNavigate();\n  const [societies, setSocieties] = useState([]);\n  const [areaInfo, setAreaInfo] = useState({});\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [selectedSociety, setSelectedSociety] = useState(null);\n  const [isModalOpen, setIsModalOpen] = useState(false);\n  const [cardPosition, setCardPosition] = useState(null);\n  useEffect(() => {\n    loadSocieties();\n  }, [areaKey, subAreaId]);\n  const loadSocieties = async () => {\n    try {\n      setLoading(true);\n      setError(null);\n      console.log(`ðŸ˜ï¸ Loading societies for area: ${areaKey}, sub-area: ${subAreaId}`);\n      const response = await fetch(`http://localhost:5000/api/societies/${areaKey}/${subAreaId}`);\n      if (!response.ok) {\n        throw new Error(`HTTP error! status: ${response.status}`);\n      }\n      const data = await response.json();\n      if (data.success) {\n        setSocieties(data.data.societies || []);\n        setAreaInfo({\n          areaName: data.data.areaName,\n          subAreaName: data.data.subAreaName,\n          subAreaDescription: data.data.subAreaDescription\n        });\n        console.log('âœ… Societies loaded successfully:', data.data.societies.length);\n      } else {\n        throw new Error(data.message || 'Failed to load societies');\n      }\n    } catch (error) {\n      console.error('âŒ Error loading societies:', error);\n      setError(error.message);\n      // Load fallback data with sample images\n      loadFallbackData();\n    } finally {\n      setLoading(false);\n    }\n  };\n  const loadFallbackData = () => {\n    // Enhanced fallback society data with sample images\n    const fallbackSocieties = [{\n      id: 1,\n      name: 'Green Valley Apartments',\n      description: 'Premium residential complex with modern amenities and excellent connectivity.',\n      mapImage: null,\n      images: ['https://images.unsplash.com/photo-1545324418-cc1a3fa10c00?w=800', 'https://images.unsplash.com/photo-1512917774080-9991f1c4c750?w=800'],\n      amenities: ['Swimming Pool', 'Gym', 'Parking', 'Security', '24/7 Power Backup'],\n      contact: {\n        phone: '+91-9811186086',\n        email: 'info@greenvalley.com'\n      }\n    }, {\n      id: 2,\n      name: 'Royal Heights Society',\n      description: 'Luxury housing society offering world-class facilities and premium lifestyle.',\n      mapImage: null,\n      images: ['https://images.unsplash.com/photo-1564013799919-ab600027ffc6?w=800', 'https://images.unsplash.com/photo-1480074568708-e7b720bb3f09?w=800'],\n      amenities: ['Club House', 'Tennis Court', 'Children Play Area', 'Garden', 'CCTV'],\n      contact: {\n        phone: '+91-9811186083',\n        email: 'contact@royalheights.com'\n      }\n    }];\n    setSocieties(fallbackSocieties);\n    setAreaInfo({\n      areaName: 'Sample Area',\n      subAreaName: 'Sample Sub-Area',\n      subAreaDescription: 'This is sample data as the backend connection failed.'\n    });\n    console.log('âš ï¸ Using fallback society data with sample images');\n  };\n  const handleSocietyClick = (society, event) => {\n    console.log('ðŸ˜ï¸ Society card clicked:', society.name);\n\n    // Get the clicked card element position\n    const cardElement = event.currentTarget;\n    const rect = cardElement.getBoundingClientRect();\n    const scrollTop = window.pageYOffset || document.documentElement.scrollTop;\n    const cardAbsolutePosition = {\n      y: rect.top + scrollTop - 100,\n      x: rect.left,\n      element: cardElement\n    };\n    setCardPosition(cardAbsolutePosition);\n    setSelectedSociety(society);\n    setIsModalOpen(true);\n  };\n  const handleCloseModal = () => {\n    setIsModalOpen(false);\n    setTimeout(() => {\n      setSelectedSociety(null);\n      setTimeout(() => {\n        setCardPosition(null);\n      }, 1000);\n    }, 300);\n  };\n  const getSocietyImage = society => {\n    // Priority: 1. First gallery image, 2. Map image, 3. Default\n    if (society.images && society.images.length > 0) {\n      return `http://localhost:5000${society.images[0]}`;\n    } else if (society.mapImage) {\n      return `http://localhost:5000${society.mapImage}`;\n    }\n    return '/assets/map.webp';\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(PageTransition, {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"societies-page\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"container\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"section-title\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              children: \"Loading Societies...\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 290,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"loading-spinner\",\n              style: {\n                margin: '50px auto'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 291,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 289,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 288,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 287,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 286,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(PageTransition, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"societies-page\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"back-navigation\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"back-btn\",\n            onClick: () => navigate(-1),\n            children: [/*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"fas fa-arrow-left\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 309,\n              columnNumber: 15\n            }, this), \"Back\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 305,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 304,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"section-title\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: [areaInfo.subAreaName, \" Societies\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 316,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: areaInfo.subAreaDescription\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 317,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"breadcrumb\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: areaInfo.areaName\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 319,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"fas fa-chevron-right\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 320,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: areaInfo.subAreaName\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 321,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 318,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 315,\n          columnNumber: 11\n        }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"alert alert-error\",\n          children: error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 326,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(SocietiesImageSlider, {\n          societies: societies\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 332,\n          columnNumber: 11\n        }, this), societies.length > 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"societies-grid\",\n          children: societies.map((society, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"society-card\",\n            onClick: event => handleSocietyClick(society, event),\n            style: {\n              animationDelay: `${index * 0.1}s`\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"society-image\",\n              children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                src: getSocietyImage(society),\n                alt: `${society.name} Image`,\n                onError: e => {\n                  e.target.src = '/assets/map.webp';\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 347,\n                columnNumber: 21\n              }, this), society.images && society.images.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"image-count-badge\",\n                children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"fas fa-images\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 357,\n                  columnNumber: 25\n                }, this), society.images.length]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 356,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 346,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"society-content\",\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                children: society.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 364,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"society-description\",\n                children: society.description\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 365,\n                columnNumber: 21\n              }, this), society.amenities && society.amenities.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"amenities-preview\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"amenities-list\",\n                  children: [society.amenities.slice(0, 3).map((amenity, idx) => /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"amenity-tag\",\n                    children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                      className: \"fas fa-check\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 373,\n                      columnNumber: 31\n                    }, this), amenity]\n                  }, idx, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 372,\n                    columnNumber: 29\n                  }, this)), society.amenities.length > 3 && /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"amenity-tag more\",\n                    children: [\"+\", society.amenities.length - 3, \" more\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 378,\n                    columnNumber: 29\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 370,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 369,\n                columnNumber: 23\n              }, this), society.contact && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"contact-preview\",\n                children: society.contact.phone && /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"contact-item\",\n                  children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                    className: \"fas fa-phone\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 391,\n                    columnNumber: 29\n                  }, this), society.contact.phone]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 390,\n                  columnNumber: 27\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 388,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 363,\n              columnNumber: 19\n            }, this)]\n          }, society.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 338,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 336,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"no-societies\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"no-societies-content\",\n            children: [/*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"fas fa-building\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 404,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n              children: \"No Societies Available\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 405,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"We're currently updating our listings for this area. Please check back soon or contact us for the latest available societies.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 406,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn btn-primary\",\n              onClick: () => navigate('/contact'),\n              children: \"Contact Us\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 410,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 403,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 402,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 302,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(SocietyModal, {\n        isOpen: isModalOpen,\n        onClose: handleCloseModal,\n        society: selectedSociety,\n        cardPosition: cardPosition\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 422,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 301,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 300,\n    columnNumber: 5\n  }, this);\n};\n\n// Enhanced Society Modal Component with Gallery Support\n_s2(Societies, \"NbhlQPb2VU1tPXy9tMZqwyTlz7w=\", false, function () {\n  return [useParams, useNavigate];\n});\n_c2 = Societies;\nconst SocietyModal = ({\n  isOpen,\n  onClose,\n  society,\n  cardPosition\n}) => {\n  _s3();\n  const wasModalOpen = React.useRef(false);\n  const [currentImageIndex, setCurrentImageIndex] = useState(0);\n  React.useEffect(() => {\n    const handleEscape = e => {\n      if (e.key === 'Escape') {\n        onClose();\n      }\n    };\n    if (isOpen) {\n      wasModalOpen.current = true;\n      setCurrentImageIndex(0); // Reset to first image\n      document.addEventListener('keydown', handleEscape);\n      document.body.style.overflow = 'hidden';\n      document.body.classList.add('modal-open');\n    } else if (wasModalOpen.current) {\n      document.body.style.overflow = 'unset';\n      document.body.classList.remove('modal-open');\n      if (cardPosition && cardPosition.y !== undefined) {\n        setTimeout(() => {\n          window.scrollTo({\n            top: cardPosition.y,\n            left: 0,\n            behavior: 'smooth'\n          });\n        }, 100);\n      }\n      wasModalOpen.current = false;\n    }\n    return () => {\n      document.removeEventListener('keydown', handleEscape);\n      document.body.style.overflow = 'unset';\n      document.body.classList.remove('modal-open');\n    };\n  }, [isOpen, onClose, cardPosition]);\n  if (!isOpen || !society) return null;\n  const handleBackdropClick = e => {\n    if (e.target === e.currentTarget) {\n      onClose();\n    }\n  };\n\n  // Get all available images (gallery + map)\n  const getAllImages = () => {\n    const images = [];\n    if (society.images && society.images.length > 0) {\n      society.images.forEach(img => {\n        images.push(`http://localhost:5000${img}`);\n      });\n    }\n    if (society.mapImage) {\n      images.push(`http://localhost:5000${society.mapImage}`);\n    }\n    if (images.length === 0) {\n      images.push('/assets/map.webp');\n    }\n    return images;\n  };\n  const allImages = getAllImages();\n  const nextImage = () => {\n    setCurrentImageIndex(prev => (prev + 1) % allImages.length);\n  };\n  const prevImage = () => {\n    setCurrentImageIndex(prev => (prev - 1 + allImages.length) % allImages.length);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"modal-overlay\",\n    onClick: handleBackdropClick,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal-content society-modal\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"modal-close\",\n        onClick: onClose,\n        children: /*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fas fa-times\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 514,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 513,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-left\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-gallery\",\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: allImages[currentImageIndex],\n            alt: `${society.name} - Image ${currentImageIndex + 1}`,\n            style: {\n              width: '100%',\n              height: '100%',\n              objectFit: 'cover'\n            },\n            onError: e => {\n              e.target.src = '/assets/map.webp';\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 519,\n            columnNumber: 13\n          }, this), allImages.length > 1 && /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"gallery-nav gallery-prev\",\n              onClick: prevImage,\n              children: /*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"fas fa-chevron-left\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 536,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 535,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"gallery-nav gallery-next\",\n              onClick: nextImage,\n              children: /*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"fas fa-chevron-right\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 539,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 538,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"gallery-counter\",\n              children: [currentImageIndex + 1, \" / \", allImages.length]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 541,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 518,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 517,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-right\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: society.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 550,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"modal-description\",\n          children: society.description\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 551,\n          columnNumber: 11\n        }, this), society.images && society.images.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-gallery-info\",\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            children: \"Photo Gallery\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 556,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [society.images.length, \" images available\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 557,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 555,\n          columnNumber: 13\n        }, this), society.amenities && society.amenities.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-amenities\",\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            children: \"Amenities\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 564,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"amenities-grid\",\n            children: society.amenities.map((amenity, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"amenity-item\",\n              children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"fas fa-check\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 568,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: amenity\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 569,\n                columnNumber: 21\n              }, this)]\n            }, index, true, {\n              fileName: _jsxFileName,\n              lineNumber: 567,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 565,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 563,\n          columnNumber: 13\n        }, this), society.contact && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-contact\",\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            children: \"Contact Information\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 579,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"contact-info\",\n            children: [society.contact.phone && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"contact-item\",\n              children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"fas fa-phone\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 583,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: society.contact.phone\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 584,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 582,\n              columnNumber: 19\n            }, this), society.contact.email && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"contact-item\",\n              children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"fas fa-envelope\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 589,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: society.contact.email\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 590,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 588,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 580,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 578,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-button\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-secondary modal-map-btn\",\n            onClick: () => {\n              const mapUrl = allImages[currentImageIndex];\n              window.open(mapUrl, '_blank');\n            },\n            children: \"Open Image in New Tab\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 598,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-primary\",\n            onClick: () => {\n              window.location.href = '/contact';\n            },\n            children: \"Contact Us\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 607,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 597,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 549,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 512,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 511,\n    columnNumber: 5\n  }, this);\n};\n_s3(SocietyModal, \"jweic8lVCdh2aJQgB5PVMcpyIDc=\");\n_c3 = SocietyModal;\nexport default Societies;\nvar _c, _c2, _c3;\n$RefreshReg$(_c, \"SocietiesImageSlider\");\n$RefreshReg$(_c2, \"Societies\");\n$RefreshReg$(_c3, \"SocietyModal\");","map":{"version":3,"names":["React","useState","useEffect","useParams","useNavigate","PageTransition","Modal","jsxDEV","_jsxDEV","Fragment","_Fragment","SocietiesImageSlider","societies","_s","currentSlide","setCurrentSlide","isPlaying","setIsPlaying","slides","forEach","society","images","length","image","push","societyName","name","societyId","id","mapImage","interval","setInterval","prev","clearInterval","nextSlide","prevSlide","goToSlide","index","className","children","fileName","_jsxFileName","lineNumber","columnNumber","src","alt","onError","e","target","onClick","map","slide","style","backgroundImage","backgroundSize","backgroundPosition","_c","Societies","_s2","areaKey","subAreaId","navigate","setSocieties","areaInfo","setAreaInfo","loading","setLoading","error","setError","selectedSociety","setSelectedSociety","isModalOpen","setIsModalOpen","cardPosition","setCardPosition","loadSocieties","console","log","response","fetch","ok","Error","status","data","json","success","areaName","subAreaName","subAreaDescription","message","loadFallbackData","fallbackSocieties","description","amenities","contact","phone","email","handleSocietyClick","event","cardElement","currentTarget","rect","getBoundingClientRect","scrollTop","window","pageYOffset","document","documentElement","cardAbsolutePosition","y","top","x","left","element","handleCloseModal","setTimeout","getSocietyImage","margin","animationDelay","slice","amenity","idx","SocietyModal","isOpen","onClose","_c2","_s3","wasModalOpen","useRef","currentImageIndex","setCurrentImageIndex","handleEscape","key","current","addEventListener","body","overflow","classList","add","remove","undefined","scrollTo","behavior","removeEventListener","handleBackdropClick","getAllImages","img","allImages","nextImage","prevImage","width","height","objectFit","mapUrl","open","location","href","_c3","$RefreshReg$"],"sources":["C:/Users/Tejas Jaiswal/Desktop/OM/property-dealing-website/frontend/src/components/Societies.jsx"],"sourcesContent":["// frontend/src/components/Societies.jsx - Enhanced with image slider\r\nimport React, { useState, useEffect } from 'react';\r\nimport { useParams, useNavigate } from 'react-router-dom';\r\nimport PageTransition from './PageTransition';\r\nimport Modal from './Modal';\r\nimport './Societies.css';\r\n\r\n// Enhanced Image Slider Component for Societies\r\nconst SocietiesImageSlider = ({ societies = [] }) => {\r\n  const [currentSlide, setCurrentSlide] = useState(0);\r\n  const [isPlaying, setIsPlaying] = useState(true);\r\n\r\n  // Create slides array from all society images\r\n  const slides = [];\r\n  societies.forEach(society => {\r\n    if (society.images && society.images.length > 0) {\r\n      society.images.forEach(image => {\r\n        slides.push({\r\n          image: `http://localhost:5000${image}`,\r\n          societyName: society.name,\r\n          societyId: society.id\r\n        });\r\n      });\r\n    } else if (society.mapImage) {\r\n      // Fallback to map image if no gallery images\r\n      slides.push({\r\n        image: `http://localhost:5000${society.mapImage}`,\r\n        societyName: society.name,\r\n        societyId: society.id\r\n      });\r\n    }\r\n  });\r\n\r\n  // Auto-slide functionality\r\n  useEffect(() => {\r\n    if (!isPlaying || slides.length <= 1) return;\r\n\r\n    const interval = setInterval(() => {\r\n      setCurrentSlide((prev) => (prev + 1) % slides.length);\r\n    }, 4000); // Change slide every 4 seconds\r\n\r\n    return () => clearInterval(interval);\r\n  }, [isPlaying, slides.length]);\r\n\r\n  const nextSlide = () => {\r\n    setCurrentSlide((prev) => (prev + 1) % slides.length);\r\n  };\r\n\r\n  const prevSlide = () => {\r\n    setCurrentSlide((prev) => (prev - 1 + slides.length) % slides.length);\r\n  };\r\n\r\n  const goToSlide = (index) => {\r\n    setCurrentSlide(index);\r\n  };\r\n\r\n  if (slides.length === 0) {\r\n    return (\r\n      <div className=\"societies-slider no-images\">\r\n        <div className=\"no-images-content\">\r\n          <i className=\"fas fa-images\"></i>\r\n          <h3>No Society Images Available</h3>\r\n          <p>Images will appear here once societies are added with gallery photos.</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"societies-slider\">\r\n      <div className=\"slider-container\">\r\n        {/* Main Image */}\r\n        <div className=\"slider-main\">\r\n          <img\r\n            src={slides[currentSlide].image}\r\n            alt={slides[currentSlide].societyName}\r\n            className=\"slider-image\"\r\n            onError={(e) => {\r\n              e.target.src = '/assets/map.webp';\r\n            }}\r\n          />\r\n          \r\n          {/* Overlay with Society Name */}\r\n          <div className=\"slider-overlay\">\r\n            <div className=\"slider-content\">\r\n              <h2 className=\"society-name\">{slides[currentSlide].societyName}</h2>\r\n              <div className=\"slide-counter\">\r\n                {currentSlide + 1} / {slides.length}\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Navigation Arrows */}\r\n          {slides.length > 1 && (\r\n            <>\r\n              <button \r\n                className=\"slider-nav prev\" \r\n                onClick={prevSlide}\r\n                aria-label=\"Previous image\"\r\n              >\r\n                <i className=\"fas fa-chevron-left\"></i>\r\n              </button>\r\n              <button \r\n                className=\"slider-nav next\" \r\n                onClick={nextSlide}\r\n                aria-label=\"Next image\"\r\n              >\r\n                <i className=\"fas fa-chevron-right\"></i>\r\n              </button>\r\n            </>\r\n          )}\r\n\r\n          {/* Play/Pause Button */}\r\n          {slides.length > 1 && (\r\n            <button \r\n              className=\"slider-play-pause\"\r\n              onClick={() => setIsPlaying(!isPlaying)}\r\n              aria-label={isPlaying ? 'Pause slideshow' : 'Play slideshow'}\r\n            >\r\n              <i className={`fas fa-${isPlaying ? 'pause' : 'play'}`}></i>\r\n            </button>\r\n          )}\r\n        </div>\r\n\r\n        {/* Thumbnails/Dots */}\r\n        {slides.length > 1 && (\r\n          <div className=\"slider-thumbnails\">\r\n            {slides.map((slide, index) => (\r\n              <button\r\n                key={index}\r\n                className={`thumbnail ${index === currentSlide ? 'active' : ''}`}\r\n                onClick={() => goToSlide(index)}\r\n                style={{\r\n                  backgroundImage: `url(${slide.image})`,\r\n                  backgroundSize: 'cover',\r\n                  backgroundPosition: 'center'\r\n                }}\r\n                aria-label={`Go to ${slide.societyName} image`}\r\n              >\r\n                <span className=\"thumbnail-label\">{slide.societyName}</span>\r\n              </button>\r\n            ))}\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst Societies = () => {\r\n  const { areaKey, subAreaId } = useParams();\r\n  const navigate = useNavigate();\r\n  const [societies, setSocieties] = useState([]);\r\n  const [areaInfo, setAreaInfo] = useState({});\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const [selectedSociety, setSelectedSociety] = useState(null);\r\n  const [isModalOpen, setIsModalOpen] = useState(false);\r\n  const [cardPosition, setCardPosition] = useState(null);\r\n\r\n  useEffect(() => {\r\n    loadSocieties();\r\n  }, [areaKey, subAreaId]);\r\n\r\n  const loadSocieties = async () => {\r\n    try {\r\n      setLoading(true);\r\n      setError(null);\r\n      \r\n      console.log(`ðŸ˜ï¸ Loading societies for area: ${areaKey}, sub-area: ${subAreaId}`);\r\n      \r\n      const response = await fetch(`http://localhost:5000/api/societies/${areaKey}/${subAreaId}`);\r\n      \r\n      if (!response.ok) {\r\n        throw new Error(`HTTP error! status: ${response.status}`);\r\n      }\r\n      \r\n      const data = await response.json();\r\n      \r\n      if (data.success) {\r\n        setSocieties(data.data.societies || []);\r\n        setAreaInfo({\r\n          areaName: data.data.areaName,\r\n          subAreaName: data.data.subAreaName,\r\n          subAreaDescription: data.data.subAreaDescription\r\n        });\r\n        console.log('âœ… Societies loaded successfully:', data.data.societies.length);\r\n      } else {\r\n        throw new Error(data.message || 'Failed to load societies');\r\n      }\r\n    } catch (error) {\r\n      console.error('âŒ Error loading societies:', error);\r\n      setError(error.message);\r\n      // Load fallback data with sample images\r\n      loadFallbackData();\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const loadFallbackData = () => {\r\n    // Enhanced fallback society data with sample images\r\n    const fallbackSocieties = [\r\n      {\r\n        id: 1,\r\n        name: 'Green Valley Apartments',\r\n        description: 'Premium residential complex with modern amenities and excellent connectivity.',\r\n        mapImage: null,\r\n        images: [\r\n          'https://images.unsplash.com/photo-1545324418-cc1a3fa10c00?w=800',\r\n          'https://images.unsplash.com/photo-1512917774080-9991f1c4c750?w=800'\r\n        ],\r\n        amenities: ['Swimming Pool', 'Gym', 'Parking', 'Security', '24/7 Power Backup'],\r\n        contact: {\r\n          phone: '+91-9811186086',\r\n          email: 'info@greenvalley.com'\r\n        }\r\n      },\r\n      {\r\n        id: 2,\r\n        name: 'Royal Heights Society',\r\n        description: 'Luxury housing society offering world-class facilities and premium lifestyle.',\r\n        mapImage: null,\r\n        images: [\r\n          'https://images.unsplash.com/photo-1564013799919-ab600027ffc6?w=800',\r\n          'https://images.unsplash.com/photo-1480074568708-e7b720bb3f09?w=800'\r\n        ],\r\n        amenities: ['Club House', 'Tennis Court', 'Children Play Area', 'Garden', 'CCTV'],\r\n        contact: {\r\n          phone: '+91-9811186083',\r\n          email: 'contact@royalheights.com'\r\n        }\r\n      }\r\n    ];\r\n    \r\n    setSocieties(fallbackSocieties);\r\n    setAreaInfo({\r\n      areaName: 'Sample Area',\r\n      subAreaName: 'Sample Sub-Area',\r\n      subAreaDescription: 'This is sample data as the backend connection failed.'\r\n    });\r\n    console.log('âš ï¸ Using fallback society data with sample images');\r\n  };\r\n\r\n  const handleSocietyClick = (society, event) => {\r\n    console.log('ðŸ˜ï¸ Society card clicked:', society.name);\r\n    \r\n    // Get the clicked card element position\r\n    const cardElement = event.currentTarget;\r\n    const rect = cardElement.getBoundingClientRect();\r\n    const scrollTop = window.pageYOffset || document.documentElement.scrollTop;\r\n    \r\n    const cardAbsolutePosition = {\r\n      y: rect.top + scrollTop - 100,\r\n      x: rect.left,\r\n      element: cardElement\r\n    };\r\n    \r\n    setCardPosition(cardAbsolutePosition);\r\n    setSelectedSociety(society);\r\n    setIsModalOpen(true);\r\n  };\r\n\r\n  const handleCloseModal = () => {\r\n    setIsModalOpen(false);\r\n    setTimeout(() => {\r\n      setSelectedSociety(null);\r\n      setTimeout(() => {\r\n        setCardPosition(null);\r\n      }, 1000);\r\n    }, 300);\r\n  };\r\n\r\n  const getSocietyImage = (society) => {\r\n    // Priority: 1. First gallery image, 2. Map image, 3. Default\r\n    if (society.images && society.images.length > 0) {\r\n      return `http://localhost:5000${society.images[0]}`;\r\n    } else if (society.mapImage) {\r\n      return `http://localhost:5000${society.mapImage}`;\r\n    }\r\n    return '/assets/map.webp';\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <PageTransition>\r\n        <div className=\"societies-page\">\r\n          <div className=\"container\">\r\n            <div className=\"section-title\">\r\n              <h2>Loading Societies...</h2>\r\n              <div className=\"loading-spinner\" style={{ margin: '50px auto' }}></div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </PageTransition>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <PageTransition>\r\n      <div className=\"societies-page\">\r\n        <div className=\"container\">\r\n          {/* Back Navigation */}\r\n          <div className=\"back-navigation\">\r\n            <button \r\n              className=\"back-btn\"\r\n              onClick={() => navigate(-1)}\r\n            >\r\n              <i className=\"fas fa-arrow-left\"></i>\r\n              Back\r\n            </button>\r\n          </div>\r\n\r\n          {/* Page Header */}\r\n          <div className=\"section-title\">\r\n            <h2>{areaInfo.subAreaName} Societies</h2>\r\n            <p>{areaInfo.subAreaDescription}</p>\r\n            <div className=\"breadcrumb\">\r\n              <span>{areaInfo.areaName}</span>\r\n              <i className=\"fas fa-chevron-right\"></i>\r\n              <span>{areaInfo.subAreaName}</span>\r\n            </div>\r\n          </div>\r\n\r\n          {error && (\r\n            <div className=\"alert alert-error\">\r\n              {error}\r\n            </div>\r\n          )}\r\n\r\n          {/* Enhanced Image Slider */}\r\n          <SocietiesImageSlider societies={societies} />\r\n\r\n          {/* Societies Grid */}\r\n          {societies.length > 0 ? (\r\n            <div className=\"societies-grid\">\r\n              {societies.map((society, index) => (\r\n                <div\r\n                  key={society.id}\r\n                  className=\"society-card\"\r\n                  onClick={(event) => handleSocietyClick(society, event)}\r\n                  style={{\r\n                    animationDelay: `${index * 0.1}s`\r\n                  }}\r\n                >\r\n                  <div className=\"society-image\">\r\n                    <img \r\n                      src={getSocietyImage(society)}\r\n                      alt={`${society.name} Image`}\r\n                      onError={(e) => {\r\n                        e.target.src = '/assets/map.webp';\r\n                      }}\r\n                    />\r\n                    {/* Image Counter Badge */}\r\n                    {society.images && society.images.length > 0 && (\r\n                      <div className=\"image-count-badge\">\r\n                        <i className=\"fas fa-images\"></i>\r\n                        {society.images.length}\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                  \r\n                  <div className=\"society-content\">\r\n                    <h3>{society.name}</h3>\r\n                    <p className=\"society-description\">{society.description}</p>\r\n                    \r\n                    {/* Amenities */}\r\n                    {society.amenities && society.amenities.length > 0 && (\r\n                      <div className=\"amenities-preview\">\r\n                        <div className=\"amenities-list\">\r\n                          {society.amenities.slice(0, 3).map((amenity, idx) => (\r\n                            <span key={idx} className=\"amenity-tag\">\r\n                              <i className=\"fas fa-check\"></i>\r\n                              {amenity}\r\n                            </span>\r\n                          ))}\r\n                          {society.amenities.length > 3 && (\r\n                            <span className=\"amenity-tag more\">\r\n                              +{society.amenities.length - 3} more\r\n                            </span>\r\n                          )}\r\n                        </div>\r\n                      </div>\r\n                    )}\r\n                    \r\n                    {/* Contact Info */}\r\n                    {society.contact && (\r\n                      <div className=\"contact-preview\">\r\n                        {society.contact.phone && (\r\n                          <span className=\"contact-item\">\r\n                            <i className=\"fas fa-phone\"></i>\r\n                            {society.contact.phone}\r\n                          </span>\r\n                        )}\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          ) : (\r\n            <div className=\"no-societies\">\r\n              <div className=\"no-societies-content\">\r\n                <i className=\"fas fa-building\"></i>\r\n                <h3>No Societies Available</h3>\r\n                <p>\r\n                  We're currently updating our listings for this area. \r\n                  Please check back soon or contact us for the latest available societies.\r\n                </p>\r\n                <button \r\n                  className=\"btn btn-primary\"\r\n                  onClick={() => navigate('/contact')}\r\n                >\r\n                  Contact Us\r\n                </button>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        {/* Enhanced Society Modal */}\r\n        <SocietyModal\r\n          isOpen={isModalOpen}\r\n          onClose={handleCloseModal}\r\n          society={selectedSociety}\r\n          cardPosition={cardPosition}\r\n        />\r\n      </div>\r\n    </PageTransition>\r\n  );\r\n};\r\n\r\n// Enhanced Society Modal Component with Gallery Support\r\nconst SocietyModal = ({ isOpen, onClose, society, cardPosition }) => {\r\n  const wasModalOpen = React.useRef(false);\r\n  const [currentImageIndex, setCurrentImageIndex] = useState(0);\r\n\r\n  React.useEffect(() => {\r\n    const handleEscape = (e) => {\r\n      if (e.key === 'Escape') {\r\n        onClose();\r\n      }\r\n    };\r\n\r\n    if (isOpen) {\r\n      wasModalOpen.current = true;\r\n      setCurrentImageIndex(0); // Reset to first image\r\n      document.addEventListener('keydown', handleEscape);\r\n      document.body.style.overflow = 'hidden';\r\n      document.body.classList.add('modal-open');\r\n    } else if (wasModalOpen.current) {\r\n      document.body.style.overflow = 'unset';\r\n      document.body.classList.remove('modal-open');\r\n      \r\n      if (cardPosition && cardPosition.y !== undefined) {\r\n        setTimeout(() => {\r\n          window.scrollTo({\r\n            top: cardPosition.y,\r\n            left: 0,\r\n            behavior: 'smooth'\r\n          });\r\n        }, 100);\r\n      }\r\n      \r\n      wasModalOpen.current = false;\r\n    }\r\n\r\n    return () => {\r\n      document.removeEventListener('keydown', handleEscape);\r\n      document.body.style.overflow = 'unset';\r\n      document.body.classList.remove('modal-open');\r\n    };\r\n  }, [isOpen, onClose, cardPosition]);\r\n\r\n  if (!isOpen || !society) return null;\r\n\r\n  const handleBackdropClick = (e) => {\r\n    if (e.target === e.currentTarget) {\r\n      onClose();\r\n    }\r\n  };\r\n\r\n  // Get all available images (gallery + map)\r\n  const getAllImages = () => {\r\n    const images = [];\r\n    if (society.images && society.images.length > 0) {\r\n      society.images.forEach(img => {\r\n        images.push(`http://localhost:5000${img}`);\r\n      });\r\n    }\r\n    if (society.mapImage) {\r\n      images.push(`http://localhost:5000${society.mapImage}`);\r\n    }\r\n    if (images.length === 0) {\r\n      images.push('/assets/map.webp');\r\n    }\r\n    return images;\r\n  };\r\n\r\n  const allImages = getAllImages();\r\n\r\n  const nextImage = () => {\r\n    setCurrentImageIndex((prev) => (prev + 1) % allImages.length);\r\n  };\r\n\r\n  const prevImage = () => {\r\n    setCurrentImageIndex((prev) => (prev - 1 + allImages.length) % allImages.length);\r\n  };\r\n\r\n  return (\r\n    <div className=\"modal-overlay\" onClick={handleBackdropClick}>\r\n      <div className=\"modal-content society-modal\">\r\n        <button className=\"modal-close\" onClick={onClose}>\r\n          <i className=\"fas fa-times\"></i>\r\n        </button>\r\n        \r\n        <div className=\"modal-left\">\r\n          <div className=\"modal-gallery\">\r\n            <img \r\n              src={allImages[currentImageIndex]}\r\n              alt={`${society.name} - Image ${currentImageIndex + 1}`}\r\n              style={{\r\n                width: '100%', \r\n                height: '100%', \r\n                objectFit: 'cover'\r\n              }}\r\n              onError={(e) => {\r\n                e.target.src = '/assets/map.webp';\r\n              }}\r\n            />\r\n            \r\n            {/* Gallery Navigation */}\r\n            {allImages.length > 1 && (\r\n              <>\r\n                <button className=\"gallery-nav gallery-prev\" onClick={prevImage}>\r\n                  <i className=\"fas fa-chevron-left\"></i>\r\n                </button>\r\n                <button className=\"gallery-nav gallery-next\" onClick={nextImage}>\r\n                  <i className=\"fas fa-chevron-right\"></i>\r\n                </button>\r\n                <div className=\"gallery-counter\">\r\n                  {currentImageIndex + 1} / {allImages.length}\r\n                </div>\r\n              </>\r\n            )}\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"modal-right\">\r\n          <h2>{society.name}</h2>\r\n          <p className=\"modal-description\">{society.description}</p>\r\n          \r\n          {/* Gallery Info */}\r\n          {society.images && society.images.length > 0 && (\r\n            <div className=\"modal-gallery-info\">\r\n              <h4>Photo Gallery</h4>\r\n              <p>{society.images.length} images available</p>\r\n            </div>\r\n          )}\r\n          \r\n          {/* Amenities */}\r\n          {society.amenities && society.amenities.length > 0 && (\r\n            <div className=\"modal-amenities\">\r\n              <h4>Amenities</h4>\r\n              <div className=\"amenities-grid\">\r\n                {society.amenities.map((amenity, index) => (\r\n                  <div key={index} className=\"amenity-item\">\r\n                    <i className=\"fas fa-check\"></i>\r\n                    <span>{amenity}</span>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            </div>\r\n          )}\r\n          \r\n          {/* Contact Information */}\r\n          {society.contact && (\r\n            <div className=\"modal-contact\">\r\n              <h4>Contact Information</h4>\r\n              <div className=\"contact-info\">\r\n                {society.contact.phone && (\r\n                  <div className=\"contact-item\">\r\n                    <i className=\"fas fa-phone\"></i>\r\n                    <span>{society.contact.phone}</span>\r\n                  </div>\r\n                )}\r\n                {society.contact.email && (\r\n                  <div className=\"contact-item\">\r\n                    <i className=\"fas fa-envelope\"></i>\r\n                    <span>{society.contact.email}</span>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            </div>\r\n          )}\r\n          \r\n          <div className=\"modal-button\">\r\n            <button \r\n              className=\"btn btn-secondary modal-map-btn\" \r\n              onClick={() => {\r\n                const mapUrl = allImages[currentImageIndex];\r\n                window.open(mapUrl, '_blank');\r\n              }}\r\n            >\r\n              Open Image in New Tab\r\n            </button>\r\n            <button \r\n              className=\"btn btn-primary\" \r\n              onClick={() => {\r\n                window.location.href = '/contact';\r\n              }}\r\n            >\r\n              Contact Us\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Societies;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}